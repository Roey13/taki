(this.webpackJsonpe2e=this.webpackJsonpe2e||[]).push([[0],{250:function(e,t){},357:function(e,t,a){},358:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a(0),r=a.n(s),o=a(17),c=a.n(o),i=a(18),l=a(26),d=a(4),u=a(5),b=a(8),p=a(7),A=a(29),g=(a.p,a.p+"static/media/logo4.2c1feed6.png"),h=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"home",children:Object(n.jsxs)("div",{className:"home-txt-container",children:[Object(n.jsx)("img",{className:"logo-home",src:g}),Object(n.jsx)("h3",{className:"home-txt",children:"EasyTask is your new partner who will help you all throughout your project. From planning, through working and eventually finishing your project. EasyTask is flexible to any project you could dream of."}),Object(n.jsx)(A.b,{to:"/board",className:"home-link",children:"COME ON IN!"})]})})}}]),a}(s.Component),j=a(13),m=a(3),f=a(10),v=a.n(f),O=a(14),k=a(15),C={delay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500;return new Promise((function(t){setTimeout(t,e)}))},getRandomInt:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+e)},makeId:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=a.charAt(Math.floor(Math.random()*a.length));return t},getNameInitials:function(e){var t,a,n=new RegExp(/(\p{L}{1})\p{L}+/,"gu"),s=Object(k.a)(e.matchAll(n))||[];return s=(((null===(t=s.shift())||void 0===t?void 0:t[1])||"")+((null===(a=s.pop())||void 0===a?void 0:a[1])||"")).toUpperCase()},convertToCreatedAtDate:function(e){var t=e.getUTCMonth()+1,a=e.getUTCDate(),n=e.getUTCFullYear();return"".concat(n,"-").concat(+t>10?t:"0"+t,"-").concat(+a>10?a:"0"+a,"T00:00")}};var x=a(174),B="/api/",N=a.n(x).a.create({withCredentials:!0}),y=function(e,t){return w(e,"GET",t)},S=function(e,t){return w(e,"POST",t)},I=function(e,t){return w(e,"PUT",t)},T=function(e,t){return w(e,"DELETE",t)};function w(e){return D.apply(this,arguments)}function D(){return(D=Object(O.a)(v.a.mark((function e(t){var a,n,s,r=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:"get",n=r.length>2&&void 0!==r[2]?r[2]:null,e.prev=2,e.next=5,N({url:"".concat(B).concat(t),method:a,data:n,params:"GET"===a?n:null});case 5:return s=e.sent,e.abrupt("return",s.data);case 9:throw e.prev=9,e.t0=e.catch(2),console.dir(e.t0),e.t0.response&&401===e.t0.response.status&&window.location.assign("/#/login"),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var E={query:function(){return L.apply(this,arguments)},getById:function(e){return y("board/".concat(e))},save:function(e){return M.apply(this,arguments)},changeBg:function(e,t,a,n){if("photos"===e)return n.style=Object(m.a)(Object(m.a)({},n.style),{},{imgUrl:t});n.style={bgColor:a}},remove:function(e){return T("board/".concat(e))},addActivity:function(e,t,a,n,s){var r=new Date,o=C.convertToCreatedAtDate(r),c={byMember:e||{fullname:"guest"},createdAt:o,id:"a"+C.makeId(),task:s,group:a,txt:n};t.activities=[c].concat(Object(k.a)(t.activities))},changeBoardTitle:function(e,t){return!!t&&(e.title=t,!0)},toggleUser:function(e,t){var a,n=null===(a=e.members)||void 0===a?void 0:a.findIndex((function(e){return e._id===t._id}));if(n>=0)return e.members.splice(n,1),e;e.members||(e.members=[]),e.members=[].concat(Object(k.a)(e.members),[{_id:t._id,fullname:t.fullname,imgUrl:t.imgUrl||""}])}};function L(){return(L=Object(O.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("board");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=Object(O.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._id){e.next=6;break}return e.next=3,I("board/".concat(t._id),t);case 3:return e.abrupt("return",e.sent);case 6:return e.next=8,S("board",t);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Q=a(175),U=a.n(Q),J=function(){var e=null,t={setup:function(){return Object(O.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,y("setup-session");case 4:e=U()("",{reconnection:!1}),!0;case 6:case"end":return t.stop()}}),t)})))()},on:function(a,n){return Object(O.a)(v.a.mark((function s(){return v.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(e){s.next=3;break}return s.next=3,t.setup();case 3:e.on(a,n);case 4:case"end":return s.stop()}}),s)})))()},off:function(a){var n=arguments;return Object(O.a)(v.a.mark((function s(){var r;return v.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(r=n.length>1&&void 0!==n[1]?n[1]:null,e){s.next=4;break}return s.next=4,t.setup();case 4:r?e.off(a,r):e.removeAllListeners(a);case 5:case"end":return s.stop()}}),s)})))()},emit:function(a,n){return Object(O.a)(v.a.mark((function s(){return v.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(e){s.next=3;break}return s.next=3,t.setup();case 3:return s.next=5,e.emit(a,n);case 5:case"end":return s.stop()}}),s)})))()},terminate:function(){e=null,!1}};return t}();window.socketService=J;function R(){return function(){var e=Object(O.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.query();case 3:a=e.sent,t({type:"SET_BOARDS",boards:a}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}function F(e){var t=e._id?"UPDATE_BOARD":"ADD_BOARD";return function(){var a=Object(O.a)(v.a.mark((function a(n){var s;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,E.save(e);case 3:s=a.sent,n({type:t,board:s}),J.emit("board updated",e),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log("BoardActions: err in save/update board",a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}function P(e){return function(){var t=Object(O.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.getById(e);case 3:n=t.sent,a({type:"SET_CURR_BOARD",currBoard:n}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("BoardActions: err in setBoard",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}var G={login:function(e){return W.apply(this,arguments)},logout:function(){return V.apply(this,arguments)},signup:function(e){return z.apply(this,arguments)},getUsers:function(){return y("user")},getById:function(e){return y("user/".concat(e))},remove:function(e){return T("user/".concat(e))},update:K,getLoggedinUser:Y,increaseScore:function(){return _.apply(this,arguments)}};function K(e){return H.apply(this,arguments)}function H(){return(H=Object(O.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I("user/".concat(t._id),t);case 2:t=e.sent,Y()._id===t._id&&X(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=Object(O.a)(v.a.mark((function e(){var t,a,n=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:10,(a=Y()).score=a.score+t||t,e.next=5,K(a);case 5:return e.abrupt("return",a.score);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return(W=Object(O.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("auth/login",t);case 2:if(!(a=e.sent)){e.next=5;break}return e.abrupt("return",X(a));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return(z=Object(O.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("auth/signup",t);case 2:return a=e.sent,e.abrupt("return",X(a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){return(V=Object(O.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sessionStorage.clear(),e.next=3,S("auth/logout");case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e){return sessionStorage.setItem("loggedinUser",JSON.stringify(e)),e}function Y(){return JSON.parse(sessionStorage.getItem("loggedinUser"))}function Z(){return function(){var e=Object(O.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"LOADING_START"}),e.next=4,G.getUsers();case 4:a=e.sent,t({type:"SET_USERS",users:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("UserActions: err in loadUsers",e.t0);case 11:return e.prev=11,t({type:"LOADING_DONE"}),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(t){return e.apply(this,arguments)}}()}function q(e){var t=e.onToggleDelete,a=e.board,s=e.onRemoveBoard;return Object(n.jsx)("div",{onClick:t,className:"delete-board-window",children:Object(n.jsxs)("div",{onClick:function(e){return function(e){e.stopPropagation(),e.preventDefault()}(e)},className:"delete-board-container",children:[Object(n.jsx)("div",{className:"delete-board-header",children:Object(n.jsxs)("div",{className:"title",children:["Do you want to remove board: ",Object(n.jsxs)("span",{children:['"',a.title,'"']}),"?"]})}),Object(n.jsxs)("div",{className:"delete-board-controls",children:[Object(n.jsx)("button",{className:"delete-board-btn",onClick:function(e){return s(a._id,e)},children:"Delete"}),Object(n.jsx)("button",{className:"cancel-delete-board-btn",onClick:t,children:"cancel"})]})]})})}window.userService=G;var $=a(176),ee=a.n($),te=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isDeleteBoardOpen:!1},e.onToggleDelete=function(t){t.preventDefault(),e.setState({isDeleteBoardOpen:!e.state.isDeleteBoardOpen})},e.onRemoveBoard=function(t,a){a.preventDefault(),e.props.removeBoard(t)},e}return Object(u.a)(a,[{key:"render",value:function(){var e,t,a=this.props.board,s=this.state.isDeleteBoardOpen,r=null===(e=a.style)||void 0===e?void 0:e.imgUrl,o=null===(t=a.style)||void 0===t?void 0:t.bgColor;return Object(n.jsx)(A.b,{to:"/board/".concat(a._id),style:{textDecoration:"none"},children:Object(n.jsxs)("div",{className:"board-preview",style:r?{backgroundImage:"url(".concat(r,")")}:{backgroundColor:o},children:[Object(n.jsx)("h3",{children:a.title}),Object(n.jsxs)("button",{className:"delete-button",onClick:this.onToggleDelete,children:[Object(n.jsx)(ee.a,{className:"delete-board-svg"})," Delete"]}),s&&Object(n.jsx)(q,{onToggleDelete:this.onToggleDelete,board:a,onRemoveBoard:this.onRemoveBoard})]},a._id)},a._id)}}]),a}(r.a.Component),ae={removeBoard:function(e){return function(){var t=Object(O.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.remove(e);case 3:a({type:"REMOVE_BOARD",boardId:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("BoardActions: err in removeBoard",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}},ne=Object(i.b)(null,ae)(te),se=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isCreateHidden:!0,board:{title:"",style:{imgUrl:"",bgColor:""}}},e.toggleModalVisibility=function(t){e.setState({isCreateHidden:t})},e.handleChange=function(t){e.setState({board:Object(m.a)(Object(m.a)({},e.state.board),{},Object(j.a)({},t.target.name,t.target.value))})},e.handleBackground=function(t){var a={imgUrl:t.target.src,bgColor:t.target.style.backgroundColor};e.setState({board:Object(m.a)(Object(m.a)({},e.state.board),{},{style:a})})},e.onCreateBoard=function(t){t.preventDefault(),e.state.board.title&&(e.props.saveBoard(e.state.board),e.setState({isCreateHidden:!0,board:{title:"",style:{imgUrl:"",bgColor:""}}}))},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.state.isCreateHidden;return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"board-create",onClick:function(){e.toggleModalVisibility(!1)},children:Object(n.jsx)("img",{className:"plus-icon",alt:"",src:"data:image/png;base64,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"})}),!t&&Object(n.jsxs)("form",{className:"create-board",hidden:this.state.isCreateHidden,onSubmit:this.onCreateBoard,autoComplete:"off",children:[Object(n.jsx)("h1",{className:"create-board-title",children:"Create New Board"}),Object(n.jsx)("input",{autoComplete:"off",type:"text",name:"title",placeholder:"Enter Board Name...",onChange:this.handleChange,value:this.state.board.title}),Object(n.jsxs)("div",{className:"board-background-options",children:[Object(n.jsx)("div",{className:"board-background-thumb",onClick:this.handleBackground,style:{backgroundColor:"#60be50"}}),Object(n.jsx)("div",{className:"board-background-thumb",onClick:this.handleBackground,children:Object(n.jsx)("img",{src:"https://bit.ly/3yLM7uN",alt:""})}),Object(n.jsx)("div",{className:"board-background-thumb",onClick:this.handleBackground,style:{backgroundColor:"#0279bf"}}),Object(n.jsx)("div",{className:"board-background-thumb",onClick:this.handleBackground,children:Object(n.jsx)("img",{src:"https://bit.ly/3uVKA2j",alt:""})}),Object(n.jsx)("div",{className:"board-background-thumb",onClick:this.handleBackground,style:{backgroundColor:"#ff9f1a"}}),Object(n.jsx)("div",{className:"board-background-thumb",onClick:this.handleBackground,children:Object(n.jsx)("img",{src:"https://bit.ly/3i3i4c9",alt:""})}),Object(n.jsx)("div",{className:"board-background-thumb",onClick:this.handleBackground,style:{backgroundColor:"#eb5a46"}}),Object(n.jsx)("div",{className:"board-background-thumb",onClick:this.handleBackground,children:Object(n.jsx)("img",{src:"https://bit.ly/3c574Hw",alt:""})}),Object(n.jsx)("div",{className:"board-background-thumb",onClick:this.handleBackground,children:Object(n.jsx)("img",{src:"https://bit.ly/3p5Xiuc",alt:""})})]}),Object(n.jsx)("button",{children:"Create"}),Object(n.jsx)("button",{onClick:function(){e.toggleModalVisibility(!0)},children:"Cancel"})]})]})}}]),a}(r.a.Component);var re={saveBoard:F},oe=Object(i.b)((function(e){return{boards:e.boardModule.boards}}),re)(se);function ce(e){var t=e.boards;return Object(n.jsxs)("section",{className:"board-list",children:[Object(n.jsx)("div",{className:"new-board",children:Object(n.jsx)(oe,{})}),t.map((function(e){return Object(n.jsx)("div",{children:Object(n.jsx)(ne,{board:e})},e._id)}))]})}var ie=a.p+"static/media/loading.c7d9f081.gif",le=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isCreateHidden:!0,board:{title:"",bgColor:"#000"}},e.toggleModalVisibility=function(t){e.setState({isCreateHidden:t})},e.handleChange=function(t){e.setState({board:Object(m.a)(Object(m.a)({},e.state.board),{},Object(j.a)({},t.target.name,t.target.value))})},e.onCreateBoard=function(t){t.preventDefault(),e.props.saveBoard(e.state.board),e.setState({isCreateHidden:!0})},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.loadBoards(),this.props.loadUsers()}},{key:"render",value:function(){var e=this.props.boards;this.props.users;return e?Object(n.jsxs)("section",{className:"board-page",children:[Object(n.jsx)("h1",{children:"Your Boards"}),Object(n.jsx)(ce,{boards:e})]}):Object(n.jsx)("div",{className:"loading",children:Object(n.jsx)("img",{className:"loading-img",src:ie})})}}]),a}(r.a.Component);var de={loadBoards:R,saveBoard:F,loadUsers:Z},ue=Object(i.b)((function(e){return{boards:e.boardModule.boards,users:e.userModule.users}}),de)(le),be=a(78),pe={getPreview:function(e){var t=0,a=0;return null===e||void 0===e||e.forEach((function(e){var n=(null===e||void 0===e?void 0:e.todos.length)||0,s=null===e||void 0===e?void 0:e.todos.filter((function(e){return e.isDone})).length;t+=n,a+=s=s||0})),"".concat(a,"/").concat(t)},getDatePreview:function(e){var t=["January","February","March","April","May","June","July","August","September","October","November","December"][e.substring(5,7)-1].substring(0,3),a=+e.substring(8,10);return"".concat(t," ").concat(a)},addTask:function(e,t,a,n){var s=e.groups.findIndex((function(e){return e.id===t}));e.groups[s].tasks||(e.groups[s].tasks=[]);var r={id:"c"+C.makeId(),title:a,style:{imgUrl:"",bgColor:""},byMember:n,comments:[],attachments:[]};return e.groups[s].tasks=[].concat(Object(k.a)(e.groups[s].tasks),[r]),r},updateTask:function(e,t,a){var n=e.groups.findIndex((function(e){return e.id===t})),s=e.groups[n].tasks.findIndex((function(e){return e.id===a.id}));e.groups[n].tasks.splice(s,1,a)},deleteTask:function(e,t,a){var n=e.groups.findIndex((function(e){return e.id===t})),s=e.groups[n].tasks.findIndex((function(e){return e.id===a}));e.groups[n].tasks.splice(s,1)},getTaskById:function(e,t,a){var n=a.groups.findIndex((function(e){return e.id===t}));return a.groups[n].tasks.find((function(t){return t.id===e}))},addLabel:function(e,t,a,n){var s=n.substring(1,n.length),r=e.groups.findIndex((function(e){return e.id===t})),o=e.groups[r].tasks.findIndex((function(e){return e.id===a})),c=e.groups[r].tasks[o].labelIds;if(!c)return e.groups[r].tasks[o].labelIds=[s];c.push(s)},onRemoveLabel:function(e,t,a,n){var s=n.substring(1,n.length),r=e.groups.findIndex((function(e){return e.id===t})),o=e.groups[r].tasks.findIndex((function(e){return e.id===a})),c=e.groups[r].tasks[o].labelIds,i=c.findIndex((function(e){return e===s}));c.splice(i,1)},checkLabel:function(e,t,a,n){var s=n.substring(1,n.length),r=e.groups.findIndex((function(e){return e.id===t})),o=e.groups[r].tasks.findIndex((function(e){return e.id===a})),c=e.groups[r].tasks[o].labelIds;return!!c&&-1!==c.findIndex((function(e){return e===s}))},toggleTaskMember:function(e,t){var a,n;(n=null===(a=e.members)||void 0===a?void 0:a.findIndex((function(e){return e._id===t._id})))>=0?e.members.splice(n,1):(e.members||(e.members=[]),e.members.push(t))},addComment:function(e,t,a){var n,s;e.comments||(e.comments=[]);if((s=null===(n=e.comments)||void 0===n?void 0:n.findIndex((function(e){return(null===e||void 0===e?void 0:e.id)===(null===a||void 0===a?void 0:a.id)})))>=0)e.comments.splice(s,1);else{var r={id:"ZdPnm",txt:t,createdAt:C.makeId(),byMember:{_id:"u101",fullname:"Tal Tarablus",imgUrl:"http://res.cloudinary.com/shaishar9/image/upload/v1590850482/j1glw3c9jsoz2py0miol.jpg"}};e.comments.push(r)}},setTaskDate:function(e,t){e.dueDate={date:t,complete:!1}},getTimeStemp:function(){var e=new Date;return e.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}};var Ae=a(360);function ge(e){var t=e.lable,a=e.isLabelsOpen,s=e.from;return Object(n.jsx)("div",{className:"label ".concat(a?"open":""),style:{backgroundColor:t.color},children:a||"details"===s?t.title:""})}var he=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={currLabel:null,label:{title:"",color:""}},e.onSaveLabel=function(t){t.preventDefault();var a=e.state.currLabel;if(a)return e.props.toggleEditLabel(),e.props.updateLabel(a,e.state.label);e.props.toggleEditLabel(),e.props.addLabelToBoard(e.state.label)},e.handleChange=function(t){t.preventDefault();var a=t.target.value,n=t.target.name;e.setState({label:Object(j.a)({},n,a)})},e.setLabelColor=function(t){e.setState({label:Object(m.a)(Object(m.a)({},e.state.label),{},{color:t})})},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.setState({currLabel:this.props.currLabel})}},{key:"render",value:function(){var e=this,t=this.state.currLabel,a=this.props.toggleEditLabel;return Object(n.jsxs)("div",{className:"edit-label-container",children:[Object(n.jsxs)("div",{className:"edit-label-header",children:[Object(n.jsx)("div",{className:"title",children:t?"Edit Label":"Create Label"}),Object(n.jsx)("button",{className:"close-edit-label-btn",onClick:a,children:"X"})]}),Object(n.jsxs)("form",{className:"edit-label-form",children:[Object(n.jsx)("label",{children:"Name"}),Object(n.jsx)("input",{autoComplete:"off",type:"text",name:"title",onChange:this.handleChange,placeholder:t?t.title:"Add label title..."}),Object(n.jsx)("label",{children:"Select a color"}),Object(n.jsxs)("div",{className:"edit-label-colors-pick",children:[Object(n.jsx)("div",{onClick:function(){return e.setLabelColor("#f1d600")},style:{backgroundColor:"#f1d600"},className:"color #f1d600"}),Object(n.jsx)("div",{onClick:function(){return e.setLabelColor("#ff9f1a")},style:{backgroundColor:"#ff9f1a"},className:"color #ff9f1a"}),Object(n.jsx)("div",{onClick:function(){return e.setLabelColor("#eb5a46")},style:{backgroundColor:"#eb5a46"},className:"color #eb5a46"}),Object(n.jsx)("div",{onClick:function(){return e.setLabelColor("#c377e0")},style:{backgroundColor:"#c377e0"},className:"color #c377e0"}),Object(n.jsx)("div",{onClick:function(){return e.setLabelColor("#0279bf")},style:{backgroundColor:"#0279bf"},className:"color #0279bf"}),Object(n.jsx)("div",{onClick:function(){return e.setLabelColor("#00c2e0")},style:{backgroundColor:"#00c2e0"},className:"color #00c2e0"}),Object(n.jsx)("div",{onClick:function(){return e.setLabelColor("#60be50")},style:{backgroundColor:"#60be50"},className:"color #60be50"}),Object(n.jsx)("div",{onClick:function(){return e.setLabelColor("#50e898")},style:{backgroundColor:"#50e898"},className:"color #50e898"}),Object(n.jsx)("div",{onClick:function(){return e.setLabelColor("#fe78cb")},style:{backgroundColor:"#fe78cb"},className:"color #fe78cb"}),Object(n.jsx)("div",{onClick:function(){return e.setLabelColor("#344563")},style:{backgroundColor:"#344563"},className:"color #344563"}),Object(n.jsx)("div",{onClick:function(){return e.setLabelColor("#b3bac5")},style:{backgroundColor:"#b3bac5"},className:"color #b3bac5"})]}),Object(n.jsxs)("div",{className:"edit-label-controls",children:[Object(n.jsx)("button",{onClick:this.onSaveLabel,className:"confirm-btn",children:t?"Update":"Create"}),t&&Object(n.jsx)("button",{className:"delete-btn",children:"Delete"})]})]})]})}}]),a}(s.Component),je=a(68),me=a.n(je),fe=a(180),ve=a.n(fe),Oe=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isEditLabelOpen:!1,currLabel:null},e.onLabelToggle=function(t,a){if(e.props.checkLabel(t,a))return e.props.onRemoveLabel(t,a);e.props.onAddLabel(t,a)},e.toggleEditLabel=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e.setState({isEditLabelOpen:!e.state.isEditLabelOpen}),e.setState({currLabel:t})},e.checkIfLabelInTask=function(t){var a,n=t.substring(1);return null===(a=e.props.task.labelIds)||void 0===a?void 0:a.some((function(e){return e===n}))},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.state.isEditLabelOpen,a=this.props,s=a.task,o=a.board,c=a.toggleEditLabels;return Object(n.jsxs)(r.a.Fragment,{children:[!t&&Object(n.jsxs)("div",{className:"edit-labels-container",children:[Object(n.jsxs)("div",{className:"edit-labels-header",children:[Object(n.jsx)("div",{className:"title",children:"List Actions"}),Object(n.jsx)("button",{className:"close-edit-labels-btn",onClick:c,children:"X"})]}),o.labels?Object(n.jsx)("div",{className:"labels",children:o.labels.map((function(t){return Object(n.jsxs)("div",{className:"label-preview",children:[Object(n.jsxs)("div",{style:{backgroundColor:t.color},className:"label-title",onClick:function(){return e.onLabelToggle(s.id,t.id)},children:[t.title,e.checkIfLabelInTask(t.id)&&Object(n.jsx)(me.a,{})]}),Object(n.jsx)("button",{className:"open-edit-label-btn",onClick:function(){return e.toggleEditLabel(t)},children:Object(n.jsx)(ve.a,{})})]},t.id)}))}):"",Object(n.jsx)("button",{className:"create-label-btn",onClick:function(){return e.toggleEditLabel()},children:"+Create New Label"})]}),t&&Object(n.jsx)(he,{updateLabel:this.props.updateLabel,addLabelToBoard:this.props.addLabelToBoard,toggleEditLabel:this.toggleEditLabel,currLabel:this.state.currLabel})]})}}]),a}(s.Component),ke=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isEditLabelOpen:!1,currLabel:null},e.checkIfMemberInTask=function(t){var a,n=new RegExp(t);return null===(a=e.props.task.members)||void 0===a?void 0:a.some((function(e){return n.test(e.fullname)}))},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.board,s=t.task,r=t.toggleEditMembers,o=t.toggleTaskMember;return Object(n.jsxs)("div",{className:"edit-members-container",children:[Object(n.jsxs)("div",{className:"edit-members-header",children:[Object(n.jsx)("h1",{className:"title",children:"Members"}),Object(n.jsx)("button",{className:"close-edit-members-btn",onClick:r,children:"x"})]}),a.members&&a.members.map((function(t){return Object(n.jsxs)("div",{className:"member-preview",onClick:function(){return o(s,t)},children:[Object(n.jsx)(Ae.a,{className:"avatar",src:t.imgUrl,children:C.getNameInitials(t.fullname)},t._id),Object(n.jsx)("h4",{className:"member-name",children:t.fullname}),e.checkIfMemberInTask(t.fullname)&&Object(n.jsx)(me.a,{})]},t._id)}))]})}}]),a}(s.Component),Ce=a(397),xe=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={date:null},e.closeDateModal=function(){if("task-details"===e.props.prevPage)return e.props.toggleModal("isEditDateShow");e.props.toggleChangeDueDate()},e.onChange=function(t){var a=t.target.value;if(e.props.setDate(a),"task-details"===e.props.prevPage)return e.props.toggleModal("isEditDateShow");e.props.toggleChangeDueDate()},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.task;return Object(n.jsxs)("form",{className:"dates-form flex",noValidate:!0,children:[Object(n.jsx)(Ce.a,{className:"dates",id:"datetime-local",label:"Due date",type:"datetime-local",defaultValue:e.dueDate||C.convertToCreatedAtDate(new Date),onChange:this.onChange,autoFocus:!0,InputLabelProps:{shrink:!0}}),Object(n.jsx)("button",{onClick:this.closeDateModal,className:"cancel-change-date-btn",children:"cancel"})]})}}]),a}(r.a.Component);var Be=Object(i.b)((function(e){return{currBoard:e.boardModule.currBoard}}))(xe),Ne=a(76),ye=a.n(Ne),Se=a(77),Ie=a.n(Se),Te=a(181),we=a.n(Te),De=a(182),Ee=a.n(De),Le=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isEditLabelsOpen:!1,isEditMembersOpen:!1,isEditDueDateOpen:!1,task:{title:""}},e.onUpdateTask=function(t){e.props.onToggleTaskOptions();var a=Object(m.a)(Object(m.a)({},t),{},{title:e.state.task.title});e.props.onUpdateTask(a,t)},e.handleChange=function(t){var a=t.target.value,n=t.target.name;e.setState({task:Object(j.a)({},n,a)})},e.toggleEditLabels=function(){e.setState({isEditLabelsOpen:!e.state.isEditLabelsOpen})},e.toggleEditMembers=function(){e.setState({isEditMembersOpen:!e.state.isEditMembersOpen})},e.toggleChangeDueDate=function(){e.setState({isEditDueDateOpen:!e.state.isEditDueDateOpen})},e.preventDragHandler=function(e){e.preventDefault()},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.isEditLabelsOpen,s=t.isEditMembersOpen,o=t.isEditDueDateOpen,c=this.props,i=c.checkLabel,l=c.updateLabel,d=c.addLabelToBoard,u=c.onRemoveLabel,b=c.onDeleteTask,p=c.onToggleTaskOptions,A=c.task,g=c.board,h=c.onAddLabel,j=c.toggleTaskMember;return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)("div",{onClick:p,className:"task-options-window"}),Object(n.jsxs)("div",{className:"task-options-container",children:[o&&Object(n.jsx)(Be,{toggleChangeDueDate:this.toggleChangeDueDate,task:A,setDate:this.props.setDate}),Object(n.jsxs)("div",{className:"change-task-title",children:[Object(n.jsx)("textarea",{cols:"1",rows:"8",type:"text",className:"new-title-input",placeholder:A.title,name:"title",onChange:this.handleChange}),Object(n.jsx)("button",{onClick:function(){return e.onUpdateTask(A)},children:"Save"})]}),Object(n.jsxs)("div",{className:"options-btns",children:[Object(n.jsxs)("button",{className:"options-btn",onClick:this.toggleEditLabels,children:[Object(n.jsx)(ye.a,{className:"svg change-task-labels"}),"Edit Labels"]}),a&&Object(n.jsx)(Oe,{updateLabel:l,addLabelToBoard:d,checkLabel:i,onRemoveLabel:u,task:A,onAddLabel:h,toggleEditLabels:this.toggleEditLabels,board:g}),Object(n.jsxs)("button",{className:"options-btn",onClick:this.toggleEditMembers,children:[Object(n.jsx)(Ie.a,{className:"svg change-task-members"}),"Change Members"]}),s&&Object(n.jsx)(ke,{toggleTaskMember:j,board:g,task:A,toggleEditMembers:this.toggleEditMembers}),Object(n.jsxs)("button",{className:"options-btn",onClick:this.toggleChangeDueDate,children:[Object(n.jsx)(we.a,{className:"svg edit-task-due-date"}),"Change Due Date"]}),Object(n.jsxs)("button",{className:"options-btn",onClick:function(){return b(A)},children:[Object(n.jsx)(Ee.a,{className:"svg delete-task"})," Delete"]})]})]})]})}}]),a}(s.Component),Me=a(183),Qe=a.n(Me),Ue=a(69),Je=a.n(Ue),Re=a(55),Fe=a.n(Re),Pe=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isTaskOptionsShow:!1,isLabelsOpen:!1},e.getLableById=function(t){return e.props.board.labels.find((function(e){return e.id==="l"+t}))},e.toggleTaskOptions=function(){e.props.toggleDroppable(),e.setState({isTaskOptionsShow:!e.state.isTaskOptionsShow})},e.toggleLabels=function(){e.setState({isLabelsOpen:!e.state.isLabelsOpen})},e.convertNumToDate=function(e){if(e){var t=e.date||e;return pe.getDatePreview(t)}},e.getChecklistsPreview=function(e){return pe.getPreview(e)},e.setDate=function(t){e.props.setDate(t,e.props.task)},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.toggleTaskMember,s=t.checkLabel,r=t.updateLabel,o=t.addLabelToBoard,c=t.onRemoveLabel,i=t.board,l=t.group,d=t.task,u=t.onUpdateTask,b=t.onDeleteTask,p=t.onAddLabel,g=this.state,h=g.isTaskOptionsShow,j=g.isLabelsOpen;return Object(n.jsxs)("article",{className:"task-container",children:[h&&Object(n.jsx)(Le,{setDate:this.setDate,toggleTaskMember:a,updateLabel:r,addLabelToBoard:o,checkLabel:s,onRemoveLabel:c,onAddLabel:p,board:i,onDeleteTask:b,onUpdateTask:u,task:d,onToggleTaskOptions:this.toggleTaskOptions}),d.style&&(d.style.bgColor||d.style.imgUrl)?Object(n.jsx)("div",{className:"task-cover",children:d.style?d.style.imgUrl?Object(n.jsx)("img",{className:"img-cover",src:d.style.imgUrl,alt:""}):Object(n.jsx)("div",{className:"bgc-cover",style:{backgroundColor:d.style.bgColor}}):""}):"",d.labelIds?Object(n.jsx)("div",{className:"label-list",onClick:this.toggleLabels,children:d.labelIds?d.labelIds.map((function(t){var a=e.getLableById(t);return Object(n.jsx)(ge,{isLabelsOpen:j,lable:a},a.id)})):""}):"",Object(n.jsxs)(A.b,{to:"/board/".concat(i._id,"/").concat(l.id,"/").concat(d.id),className:"link",children:[Object(n.jsx)("h5",{children:d.title}),d.dueDate||d.checklists||d.members?Object(n.jsxs)("div",{className:"badges",children:[d.dueDate&&Object(n.jsxs)("div",{className:"dew-date flex",style:{backgroundColor:d.dueDate.complete?"#60be50":"#eb5a46"},children:[Object(n.jsx)(Qe.a,{className:"clock"}),this.convertNumToDate(d.dueDate)]}),d.checklists&&0!==d.checklists.legnth?Object(n.jsxs)("div",{className:"checklists-preview",children:[Object(n.jsx)(Fe.a,{})," ",this.getChecklistsPreview(d.checklists)]}):"",Object(n.jsx)("div",{className:"avatars",children:d.members?d.members.map((function(e){return Object(n.jsx)(Ae.a,{className:"avatar",alt:e.fullName,src:e.imgUrl},e._id)})):""})]}):""]}),Object(n.jsx)("button",{onClick:this.toggleTaskOptions,className:"task-options",children:Object(n.jsx)(Je.a,{className:"task-options-svg"})})]})}}]),a}(s.Component),Ge=a(57),Ke=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={isDragDisabled:!1},e.listRef=r.a.createRef(),e}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(){this.props.isScroll&&this.listRef.current&&this.listRef.current.scrollIntoView({behavior:"smooth"})}},{key:"render",value:function(){var e=this,t=this.props,a=t.toggleTaskMember,s=t.isAddTaskOpen,r=t.onToggleAddTask,o=t.handleTaskChange,c=t.onAddTask,i=t.group,l=t.newTaskTitle;t.isScroll,this.state.isDragDisabled;return Object(n.jsx)(Ge.c,{droppableId:this.props.group.id,children:function(t){return Object(n.jsxs)("div",Object(m.a)(Object(m.a)({className:"task-list"},t.droppableProps),{},{ref:t.innerRef,children:[i.tasks&&e.props.tasks.map((function(t,s){return Object(n.jsx)(Ge.b,{isDragDisabled:e.props.isDragDisabled,draggableId:t.id,index:s,children:function(s){return Object(n.jsx)("div",Object(m.a)(Object(m.a)(Object(m.a)({},s.draggableProps),s.dragHandleProps),{},{ref:s.innerRef,children:Object(n.jsx)(Pe,{setDate:e.props.setDate,toggleDroppable:e.props.toggleDroppable,toggleTaskMember:a,updateLabel:e.props.updateLabel,addLabelToBoard:e.props.addLabelToBoard,checkLabel:e.props.checkLabel,onRemoveLabel:e.props.onRemoveLabel,onUpdateTask:e.props.onUpdateTask,onAddLabel:e.props.onAddLabel,onDeleteTask:e.props.onDeleteTask,board:e.props.board,task:t,group:e.props.group})}))}},t.id)})),s&&Object(n.jsxs)("form",{ref:e.listRef,className:"add-task-form",onSubmit:r,children:[Object(n.jsx)("textarea",{name:"title",placeholder:"Enter a title for this card...",className:"task-title-input",cols:"5",rows:"5",onChange:o}),Object(n.jsxs)("div",{className:"add-task-controls",children:[Object(n.jsx)("button",{className:"add-task-add-btn",onClick:function(){return c(i,l)},children:"Add card"}),Object(n.jsx)("button",{className:"add-task-close-btn",onClick:e.onToggleAddTask,children:" X "})]})]}),t.placeholder]}))}})}}]),a}(r.a.Component);var He={setBoard:P,loadBoards:R,saveBoard:F},_e=Object(i.b)((function(e){return{currBoard:e.boardModule.currBoard,boards:e.boardModule.boards}}),He)(Ke),We=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.onToggleGroupOptions,a=e.onToggleAddTask,s=e.onDeleteGroup,o=e.onCopyGroup;return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)("div",{onClick:t,className:"group-options-window"}),Object(n.jsxs)("div",{className:"group-options-container",children:[Object(n.jsxs)("div",{className:"group-options-header",children:[Object(n.jsx)("div",{className:"title",children:"List Actions"}),Object(n.jsx)("button",{className:"close-group-options-btn",onClick:t,children:"X"})]}),Object(n.jsx)("button",{onClick:a,children:"Add Card..."}),Object(n.jsx)("button",{onClick:o,children:"Copy List..."}),Object(n.jsx)("button",{onClick:s,children:"Delete List..."})]})]})}}]),a}(s.Component),ze=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isGroupOptionOpen:!1,isAddTaskOpen:!1,isChangeGroupNameOpen:!1,isScroll:!1,group:{title:""},task:{title:""}},e.handleClick=function(t){e.node.contains(t.target)||e.handleClickOutside()},e.handleClickOutside=function(){e.onChangeGroupName(e.state.group.title),e.setState({isChangeGroupNameOpen:!1,isAddTaskOpen:!1})},e.handleTaskChange=function(t){var a=t.target.value,n=t.target.name;e.setState({task:Object(j.a)({},n,a)})},e.handleGroupChange=function(t){var a=t.target.value,n=t.target.name;e.setState({group:Object(j.a)({},n,a)})},e.onToggleAddTask=function(){e.props.toggleDroppable(),e.setState({isScroll:!e.state.isScroll}),e.setState({isGroupOptionOpen:!1}),e.setState({isAddTaskOpen:!e.state.isAddTaskOpen})},e.onToggleGroupOptions=function(){e.props.toggleDroppable(),e.setState({isAddTaskOpen:!1}),e.setState({isGroupOptionOpen:!e.state.isGroupOptionOpen})},e.onDeleteGroup=function(){e.onToggleGroupOptions(),e.props.onDeleteGroup(e.props.group)},e.onCopyGroup=function(){e.onToggleGroupOptions(),e.props.onCopyGroup(e.props.group)},e.onUpdateTask=function(t,a){e.props.onUpdateTask(e.props.group,t,a)},e.toggleChangeGroupName=function(){e.setState({isChangeGroupNameOpen:!e.state.isChangeGroupNameOpen})},e.onDeleteTask=function(t){e.props.onDeleteTask(e.props.group,t)},e.onAddLabel=function(t,a){e.props.onAddLabel(e.props.group.id,t,a)},e.checkLabel=function(t,a){return e.props.checkLabel(e.props.group.id,t,a)},e.onRemoveLabel=function(t,a){e.props.onRemoveLabel(e.props.group.id,t,a)},e.onChangeGroupName=function(t){e.toggleChangeGroupName(),e.props.changeGroupName(t,e.props.group)},e}return Object(u.a)(a,[{key:"componentWillMount",value:function(){document.addEventListener("mousedown",this.handleClick,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClick,!1)}},{key:"render",value:function(){var e=this,t=this.props,a=t.group,s=t.board,r=t.onAddTask,o=t.updateLabel,c=t.addLabelToBoard,i=t.toggleTaskMember,l=this.state.task.title,d=this.state.group.title,u=this.state,b=u.isAddTaskOpen,p=u.isGroupOptionOpen,A=u.isChangeGroupNameOpen,g=u.isScroll;return Object(n.jsx)("div",{ref:function(t){e.node=t},className:"group-container",children:Object(n.jsxs)("div",{className:"group",children:[Object(n.jsxs)("div",{className:"header",children:[!A&&Object(n.jsx)("div",{className:"title",onClick:this.toggleChangeGroupName,children:a.title}),A&&Object(n.jsx)("form",{onSubmit:function(){return e.onChangeGroupName(d)},children:Object(n.jsx)("input",{autoComplete:"off",onChange:this.handleGroupChange,type:"text",name:"title",defaultValue:a.title})}),Object(n.jsx)("button",{className:"options",onClick:this.onToggleGroupOptions,children:Object(n.jsx)(Je.a,{className:"group-options-svg"})})]}),Object(n.jsx)(_e,Object(j.a)({isScroll:g,isAddTaskOpen:b,onToggleAddTask:this.onToggleAddTask,handleTaskChange:this.handleTaskChange,onAddTask:r,group:a,newTaskTitle:l,setDate:this.props.setDate,isDragDisabled:this.props.isDragDisabled,toggleDroppable:this.props.toggleDroppable,toggleTaskMember:i,updateLabel:o,addLabelToBoard:c,checkLabel:this.checkLabel,onRemoveLabel:this.onRemoveLabel,board:s,onAddLabel:this.onAddLabel,onDeleteTask:this.onDeleteTask,onUpdateTask:this.onUpdateTask,tasks:a.tasks},"group",a)),!b&&Object(n.jsx)("button",{className:"add-task-toggle-btn",onClick:this.onToggleAddTask,children:"+ Add another card"}),p&&Object(n.jsx)(We,{onToggleGroupOptions:this.onToggleGroupOptions,onCopyGroup:this.onCopyGroup,onDeleteGroup:this.onDeleteGroup,group:a,onToggleAddTask:this.onToggleAddTask})]})})}}]),a}(r.a.Component);function Ve(e){var t=e.bgPicks,a=e.onChangeBg,s=t;return Object(n.jsxs)("div",{className:"picks",children:[Object(n.jsx)("div",{className:"pick 1",onClick:function(){return a(s,"https://bit.ly/3yLM7uN","#61bd4f")},style:"photos"===s?{backgroundImage:"url('https://bit.ly/3yLM7uN')"}:{backgroundColor:"#61bd4f"}}),Object(n.jsx)("div",{className:"pick 2",onClick:function(){return a(s,"https://cdn.shopify.com/s/files/1/0257/6718/2416/files/Party-Background-green-with-presents.jpg?v=1595051600","#f2d600")},style:"photos"===s?{backgroundImage:"url(https://cdn.shopify.com/s/files/1/0257/6718/2416/files/Party-Background-green-with-presents.jpg?v=1595051600)"}:{backgroundColor:"#f2d600"}}),Object(n.jsx)("div",{className:"pick 3",onClick:function(){return a(s,"https://bit.ly/2Rhir82","#ff9f1a")},style:"photos"===s?{backgroundImage:"url(https://bit.ly/2Rhir82)"}:{backgroundColor:"#ff9f1a"}}),Object(n.jsx)("div",{className:"pick 4",onClick:function(){return a(s,"https://bit.ly/2S5SicM","#eb5a46")},style:"photos"===s?{backgroundImage:"url(https://bit.ly/2S5SicM)"}:{backgroundColor:"#eb5a46"}}),Object(n.jsx)("div",{className:"pick 5",onClick:function(){return a(s,"https://bit.ly/3ifWH7t","#c377e0")},style:"photos"===s?{backgroundImage:"url(https://bit.ly/3ifWH7t)"}:{backgroundColor:"#c377e0"}}),Object(n.jsx)("div",{className:"pick 6",onClick:function(){return a(s,"https://bit.ly/3cb6doI","#0079bf")},style:"photos"===s?{backgroundImage:"url(https://bit.ly/3cb6doI)"}:{backgroundColor:"#0079bf"}}),Object(n.jsx)("div",{className:"pick 7",onClick:function(){return a(s,"https://bit.ly/3uOBV1o","#00c2e0")},style:"photos"===s?{backgroundImage:"url(https://bit.ly/3uOBV1o)"}:{backgroundColor:"#00c2e0"}}),Object(n.jsx)("div",{className:"pick 8",onClick:function(){return a(s,"https://bit.ly/3uMTS0u","#51e898")},style:"photos"===s?{backgroundImage:"url(https://bit.ly/3uMTS0u)"}:{backgroundColor:"#51e898"}}),Object(n.jsx)("div",{className:"pick 9",onClick:function(){return a(s,"https://bit.ly/3idR4GZ","#ff78cb")},style:"photos"===s?{backgroundImage:"url(https://bit.ly/3idR4GZ)"}:{backgroundColor:"#ff78cb"}}),Object(n.jsx)("div",{className:"pick 10",onClick:function(){return a(s,"https://bit.ly/34GK1Pl","#344563")},style:"photos"===s?{backgroundImage:"url(https://bit.ly/34GK1Pl)"}:{backgroundColor:"#344563"}}),Object(n.jsx)("div",{className:"pick 11",onClick:function(){return a(s,"https://bit.ly/3irFJU7","#b3bac5")},style:"photos"===s?{backgroundImage:"url(https://bit.ly/3irFJU7)"}:{backgroundColor:"#b3bac5"}}),Object(n.jsx)("div",{className:"pick 12",onClick:function(){return a(s,"https://bit.ly/34L6DOp","#ffffff")},style:"photos"===s?{backgroundImage:"url(https://bit.ly/34L6DOp)"}:{backgroundColor:"#ffffff",border:"0.5px solid black"}})]})}var Xe=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isChangeBgOpen:!1,isBgPickOpen:!1,bgPicks:""},e.onToggleChangeBg=function(){e.setState({isChangeBgOpen:!e.state.isChangeBgOpen})},e.onTogglePickBg=function(t){e.setState({bgPicks:t}),e.setState({isBgPickOpen:!e.state.isBgPickOpen})},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.isChangeBgOpen,s=t.isBgPickOpen,o=t.bgPicks,c=this.props,i=c.onToggleSideBar,l=c.board,d=c.getDatePreview,u=c.onChangeBg;return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)("div",{onClick:i,className:"side-bar-window"}),Object(n.jsxs)("div",{className:"side-bar",children:[Object(n.jsxs)("div",{className:"side-bar-header",children:[a&&!s&&Object(n.jsx)("button",{className:"close-change-bg-btn",onClick:this.onToggleChangeBg,children:"back"}),a&&s&&Object(n.jsx)("button",{className:"close-change-bg-btn",onClick:this.onTogglePickBg,children:"back"}),Object(n.jsx)("div",{className:"title",children:"Menu"}),Object(n.jsx)("button",{className:"close-side-bar-btn",onClick:i,children:"X"})]}),!a&&Object(n.jsxs)("div",{className:"side-bar-main",children:[Object(n.jsx)("div",{className:"change-bg-btn-container",children:Object(n.jsx)("button",{onClick:this.onToggleChangeBg,className:"change-bg-btn",children:"Change Background"})}),Object(n.jsx)("h3",{className:"activities-title",children:"Activity"}),Object(n.jsx)("div",{className:"activities-list",children:l.activities||l.activities.legnth?l.activities.map((function(e){return Object(n.jsxs)("div",{className:"activity-preview",children:[Object(n.jsx)(Ae.a,{className:"avatar",alt:e.byMember.fullname,src:e.byMember.imgUrl}),Object(n.jsxs)("div",{className:"activity-txt",children:[e.group?e.task&&e.task.title?"".concat(e.byMember.fullname,": ").concat(e.txt,' "').concat(e.task.title,'" in list: "').concat(e.group.title,'"'):"".concat(e.byMember.fullname,": ").concat(e.txt,' "').concat(e.group.title,'"'):"".concat(e.byMember.fullname,": ").concat(e.txt),Object(n.jsx)("div",{className:"at",children:d(e.createdAt)})]})]},e.id)})):""})]}),a&&!s&&Object(n.jsxs)("div",{className:"change-bg-options",children:[Object(n.jsxs)("div",{className:"photos-option",children:[Object(n.jsx)("div",{onClick:function(){return e.onTogglePickBg("photos")},className:"photos-btn"}),Object(n.jsx)("div",{className:"title",children:"Photos"})]}),Object(n.jsxs)("div",{className:"colors-option",children:[Object(n.jsx)("div",{onClick:function(){return e.onTogglePickBg("colors")},className:"colors-btn"}),Object(n.jsx)("div",{className:"title",children:"colors"})]})]}),s&&Object(n.jsx)(Ve,{onChangeBg:u,bgPicks:o,isBgPickOpen:s})]})]})}}]),a}(r.a.Component),Ye={deleteGroup:function(e,t){var a=e.groups.findIndex((function(e){return e.id===t}));e.groups.splice(a,1)},copyGroup:function(e,t){var a=Object(m.a)(Object(m.a)({},t),{},{id:C.makeId()}),n=e.groups.findIndex((function(e){return t.id===e.id}));e.groups.splice(n,0,a)},addGroup:function(e,t){var a={id:"g"+C.makeId(),title:t};return e.groups=[].concat(Object(k.a)(e.groups),[a]),a},changeGroupName:function(e,t){if(!e)return;t.title=e}};var Ze=a(398),qe=a(396),$e=a(394),et=a(395),tt=a(99),at=a.n(tt),nt=a(185),st=a.n(nt),rt=a(100),ot=a.n(rt),ct=a(187),it=a.n(ct),lt=a(125),dt=a.n(lt),ut=a(186),bt=a.n(ut),pt=a(184),At=a.n(pt),gt=a(97),ht=a.n(gt),jt={updateLabel:function(e,t,a){var n=e.labels.findIndex((function(e){return e.id===t.id}));(a=Object(m.a)(Object(m.a)({},a),{},{id:t.id})).title||(a=Object(m.a)(Object(m.a)({},a),{},{title:t.title}));a.color||(a=Object(m.a)(Object(m.a)({},a),{},{color:t.color}));e.labels.splice(n,1,a)},addLabelToBoard:function(e,t){t.color||(t=Object(m.a)(Object(m.a)({},t),{},{color:"#b3bac5"}));t=Object(m.a)(Object(m.a)({},t),{},{id:"l"+C.makeId()}),e.labels.push(t)}};var mt=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={checklists:null},e.toggleComplete=function(t,a){var n=e.state.checklists;n[t].todos[a].isDone=!n[t].todos[a].isDone,e.setState(Object(m.a)(Object(m.a)({},e.state),{},{checklists:n}),(function(){e.props.updateChecklist(e.state.checklists)}))},e.handleChange=function(t,a,n){var s=t.target,r=s.name,o=s.value,c=e.state.checklists;c[a].todos[n][r]=o,e.setState(Object(m.a)(Object(m.a)({},e.state),{},{checklists:c}),(function(){e.props.updateChecklist(e.state.checklists)}))},e.addTodo=function(t){var a=e.state.checklists;a[t].todos.push({id:C.makeId(),title:"",isDone:!1}),e.setState(Object(m.a)(Object(m.a)({},e.state),{},{checklists:a}),(function(){e.props.updateChecklist(e.state.checklists)}))},e.removeTodo=function(t){var a=e.state.checklists;a.splice(t,1),e.setState(Object(m.a)(Object(m.a)({},e.state),{},{checklists:a}),(function(){e.props.updateChecklist(e.state.checklists)}))},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.checklists;this.setState({checklists:e})}},{key:"render",value:function(){var e=this,t=this.state.checklists;return t?Object(n.jsx)("div",{className:"checklists",children:Object(n.jsx)("div",{className:"checklist flex column",children:t.map((function(t,a){return Object(n.jsxs)("div",{className:"todos flex column",children:[Object(n.jsxs)("div",{className:"flex container",children:[Object(n.jsxs)("div",{className:"flex title",children:[Object(n.jsx)(Fe.a,{className:"icon",color:"disabled"}),Object(n.jsx)("h3",{className:"title",children:t.title||"Checklists"})]}),Object(n.jsx)("button",{onClick:function(){return e.removeTodo(a)},children:"Delete"})]}),t.todos.map((function(s,r){return Object(n.jsxs)("div",{className:"todo flex",children:[Object(n.jsx)(Ze.a,{className:"checkbox",onChange:function(){return e.toggleComplete(a,r)},checked:s.isDone,cols:"30",rows:"5",wrap:"off",color:"uncontrolled"}),Object(n.jsx)("input",{className:"title-input",placeholder:"Add an item",defaultValue:s.title,style:{textDecoration:s.isDone?"line-through":"none"},onChange:function(t){return e.handleChange(t,a,r)},name:"title"})]},t)})),Object(n.jsx)("button",{onClick:function(){return e.addTodo(a)},children:"Add an item"})]},t)}))})}):Object(n.jsx)("div",{className:"loading",children:Object(n.jsx)("img",{className:"loading-img",src:ie})})}}]),a}(s.Component),ft=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={task:null,isMembersModalShow:!1,isLabelsModalShow:!1,isEditLabelsShow:!1,isEditDateShow:!1,isAttachmentShow:!1,isAttachment2Show:!1,isChooseCoverShow:!1,isChecklistShow:!1,isMenueShow:!1,comment:{txt:""},attachment:{url:"",timestamp:"",name:""},checklist:{title:""}},e.handleChange=function(t){var a=t.target,n=a.name,s=a.value,r=e.state.task;e.setState({task:Object(m.a)(Object(m.a)({},r),{},Object(j.a)({},n,s))},(function(){var t=e.props.currBoard;pe.updateTask(t,e.props.match.params.groupId,e.state.task),e.props.saveBoard(t)}))},e.goBack=function(){e.props.history.push("/board/".concat(e.props.match.params.boardId))},e.toggleModal=function(t){e.setState(Object(m.a)(Object(m.a)({},e.state),{},Object(j.a)({},t,!e.state[t])))},e.toggleTaskMember=function(t,a){var n=e.props.currBoard;pe.toggleTaskMember(t,a),e.setState(Object(m.a)(Object(m.a)({},e.state),{},{task:t}),(function(){e.props.saveBoard(n)}))},e.checkIfMemberInTask=function(t){var a,n=new RegExp(t);return null===(a=e.state.task.members)||void 0===a?void 0:a.some((function(e){return n.test(e.fullname)}))},e.checkIfLabelInTask=function(t,a){var n;return"l"===a.charAt()&&(a=a.substring(1)),null===(n=e.state.task.labelIds)||void 0===n?void 0:n.some((function(e){return e===a}))},e.toggleEditLabel=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e.setState(Object(m.a)(Object(m.a)({},e.state),{},{isEditLabelsShow:!e.state.isEditLabelsShow,currLabel:t}))},e.getLableById=function(t){return e.props.currBoard.labels.find((function(e){return e.id==="l"+t}))},e.getLabelProperty=function(t){var a;return null===(a=e.props.currBoard.labels)||void 0===a?void 0:a.find((function(e){return e.id==="l"+t}))},e.onRemoveLabel=function(t,a){var n=e.props.currBoard,s=e.props.match.params.groupId;pe.onRemoveLabel(n,s,t,a),e.props.saveBoard(n)},e.onAddLabel=function(t,a){var n=e.props.currBoard,s=e.props.match.params.groupId;pe.addLabel(n,s,t,a),e.props.saveBoard(n)},e.updateLabel=function(t,a){var n=e.props.currBoard;jt.updateLabel(n,t,a),e.props.saveBoard(n)},e.addLabelToBoard=function(t){var a=e.props.currBoard;jt.addLabelToBoard(a,t),e.props.saveBoard(a)},e.convertNumToDate=function(e){if(e)return pe.getDatePreview(e)},e.setDate=function(t){var a=e.props.currBoard,n=e.state.task;pe.setTaskDate(n,t),e.setState(Object(m.a)(Object(m.a)({},e.state),{},{task:n})),e.props.saveBoard(a)},e.changeHandlerFile=function(t){var a,n=t.target,s=n.name,r=n.value,o=e.state.task;o.attachments||(o.attachments=[]);var c=e.props.currBoard;e.props.saveBoard(c),e.setState({attachment:Object(m.a)(Object(m.a)({},e.state.attachment),{},(a={},Object(j.a)(a,s,r),Object(j.a)(a,"timestamp",pe.getTimeStemp()),a))})},e.handleSubmissionFile=function(){var t,a=e.state.attachment,n=e.state.task;n.attachments.push(a),(null===(t=n.style)||void 0===t?void 0:t.imgUrl)||(n.style={imgUrl:""}),n.style.imgUrl=a.url,e.toggleModal("isAttachmentShow");var s=e.props.currBoard;pe.updateTask(s,e.props.match.params.groupId,e.state.task),e.props.saveBoard(s)},e.handleSubmissionFile2=function(){var t,a=e.state.attachment,n=e.state.task;n.attachments.push(a),(null===(t=n.style)||void 0===t?void 0:t.imgUrl)||(n.style={imgUrl:""}),n.style.imgUrl=a.url,e.toggleModal("isAttachment2Show"),e.toggleModal("isMenueShow");var s=e.props.currBoard;pe.updateTask(s,e.props.match.params.groupId,e.state.task),e.props.saveBoard(s)},e.removeLink=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=e.state.task;a.style.imgUrl&&(a.style.imgUrl=""),a.attachments.splice(t,1);var n=e.props.currBoard;pe.updateTask(n,e.props.match.params.groupId,e.state.task),e.props.saveBoard(n)},e.setCover=function(e){return e&&e.imgUrl?"img-hight":e&&e.bgColor?"bgc-hight":void 0},e.changeCover=function(t){e.state.task.style.bgColor=t;var a=e.props.currBoard;e.props.saveBoard(a),e.toggleModal("isChooseCoverShow")},e.checkIfDateComplete=function(t){var a=e.state.task;if("object"===typeof a.dueDate)return a.dueDate.complete?Object(n.jsx)("div",{className:"label complete",children:"COMPLETE"}):Object(n.jsx)("div",{className:"label complete overdue",children:"OVERDUE"});a.dueDate={date:t,complete:!1};var s=e.props.currBoard;e.props.saveBoard(s)},e.toggleDateComplete=function(){var t=e.state.task;t.dueDate.complete=!t.dueDate.complete;var a=e.props.currBoard;e.props.saveBoard(a)},e.updateChecklist=function(t){var a=e.state.task;a.checklists||(a.checklists=[]),a.checklists=t;var n=e.props.currBoard;e.props.saveBoard(n)},e.onChangeChecklist=function(t){var a=t.target,n=a.value,s=a.name;e.setState({checklist:Object(m.a)(Object(m.a)({},e.state.checklist),{},Object(j.a)({},s,n))})},e.handleSubmissionChecklist=function(){var t=e.state.task;t.checklists||(t.checklists=[]),t.checklists.unshift({id:C.makeId(),title:e.state.checklist.title,todos:[]});var a=e.props.currBoard;e.props.saveBoard(a),e.toggleModal("isChecklistShow")},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(O.a)(v.a.mark((function e(){var t,a,n,s,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params,a=t.taskId,n=t.groupId,s=this.props.currBoard,e.next=4,pe.getTaskById(a,n,s);case 4:r=e.sent,this.setState(Object(m.a)(Object(m.a)({},this.state),{},{task:r}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this,a=this.state,s=a.task,r=a.checklist;if(!s)return Object(n.jsx)("div",{className:"loading",children:Object(n.jsx)("img",{className:"loading-img",src:ie})});var o=s.description||"",c=(s.byMember,s.comments),i=s.members,l=s.labelIds,d=s.style,u=s.attachments,b=s.checklists,p=this.props.currBoard,A=this.props.loggedInUser,g=null;return s.dueDate&&(g=s.dueDate.date||s.dueDate),Object(n.jsxs)("section",{className:"task-details flex",children:[Object(n.jsx)("div",{className:"window",onClick:this.goBack}),Object(n.jsxs)("div",{className:"card flex column",children:[Object(n.jsxs)("div",{className:"cover flex column "+this.setCover(d),style:{backgroundColor:(null===d||void 0===d?void 0:d.bgColor)&&!(null===d||void 0===d?void 0:d.imgUrl)?d.bgColor:""},children:[Object(n.jsx)(at.a,{className:"btn task-details-close",onClick:this.goBack}),(null===d||void 0===d?void 0:d.bgColor)&&Object(n.jsxs)("button",{className:"btn-cover flex",onClick:function(){return t.toggleModal("isChooseCoverShow")},children:["cover ",Object(n.jsx)(At.a,{className:"icon"})]}),(null===d||void 0===d?void 0:d.imgUrl)&&Object(n.jsx)("img",{className:"preview-img",src:"".concat(d.imgUrl),alt:""})]}),Object(n.jsxs)("div",{className:"menu flex",children:[Object(n.jsx)(ht.a,{className:"menu-icon",onClick:function(){return t.toggleModal("isMenueShow")}}),Object(n.jsx)("h3",{children:"ADD TO CARD"})]}),this.state.isMenueShow&&Object(n.jsxs)("div",{className:"menu-sidebar flex column",children:[Object(n.jsx)("h3",{className:"sidebar-title",children:"ADD TO CARD"}),Object(n.jsxs)("button",{className:"btn flex",onClick:function(){return t.toggleModal("isMembersModalShow")},children:[Object(n.jsx)(Ie.a,{className:"icon"})," Members"]}),Object(n.jsxs)("button",{className:"btn flex",onClick:function(){return t.toggleModal("isLabelsModalShow")},children:[Object(n.jsx)(ye.a,{className:"icon"})," Labels"]}),Object(n.jsxs)("button",{className:"btn flex",onClick:function(){return t.toggleModal("isChecklistShow")},children:[Object(n.jsx)(Fe.a,{className:"icon"})," Checklist"]}),Object(n.jsxs)("button",{className:"btn flex",onClick:function(){return t.toggleModal("isEditDateShow")},children:[Object(n.jsx)(dt.a,{className:"icon"})," Dates"]}),Object(n.jsxs)("button",{className:"btn flex",onClick:function(){return t.toggleModal("isAttachment2Show")},children:[Object(n.jsx)(ot.a,{className:"icon"})," Attachment"]})]}),this.state.isAttachment2Show&&Object(n.jsxs)("div",{className:"attachment2 flex column",children:[Object(n.jsxs)("div",{className:"flex container",children:[Object(n.jsx)("label",{htmlFor:"text",children:"Attach a link"}),Object(n.jsx)(at.a,{className:"btn task-details-close",onClick:function(){return t.toggleModal("isAttachment2Show")}})]}),Object(n.jsx)("input",{type:"text",name:"url",value:this.state.attachment.url||"",onChange:this.changeHandlerFile,placeholder:"Paste any link here..."}),Object(n.jsx)("label",{htmlFor:"text",children:"Link name"}),Object(n.jsx)("input",{type:"text",name:"name",value:this.state.attachment.name||"",onChange:this.changeHandlerFile}),Object(n.jsx)("button",{onClick:this.handleSubmissionFile2,children:"Attach"})]}),Object(n.jsx)("div",{className:"header",children:Object(n.jsxs)("div",{className:"title flex",children:[Object(n.jsx)(st.a,{className:"taskIcon",color:"disabled"}),Object(n.jsx)("input",{className:"title-input",defaultValue:s.title,onChange:this.handleChange,name:"title"})]})}),Object(n.jsxs)("div",{className:"main flex row",children:[Object(n.jsxs)("div",{className:"details flex column",children:[Object(n.jsxs)("div",{className:"details-labeld-members flex",children:[i&&Object(n.jsxs)("div",{className:"members",children:[Object(n.jsx)("h3",{children:"MEMBERS"}),Object(n.jsxs)(et.a,{max:10,children:[i&&i.map((function(e){return Object(n.jsx)(Ae.a,{className:"avatar",src:e.imgUrl,children:C.getNameInitials(e.fullname)},e._id)})),Object(n.jsx)(Ae.a,{className:"add-avatar",onClick:function(){return t.toggleModal("isMembersModalShow")},children:"+"})]})]}),l&&Object(n.jsxs)("div",{className:"labels flex column",children:[Object(n.jsx)("h3",{children:"LABELS"}),Object(n.jsxs)("div",{className:"labels flex",children:[l.map((function(e){var a=t.getLableById(e);return Object(n.jsx)(ge,{from:"details",lable:a},a.id)})),Object(n.jsx)("div",{className:"label add-label",onClick:function(){return t.toggleModal("isLabelsModalShow")},children:"+"})]})]})]}),s.dueDate&&Object(n.jsxs)("div",{className:"dew-date flex column",children:[Object(n.jsx)("h3",{children:"DUE DATE"}),Object(n.jsxs)("div",{className:"flex",children:[Object(n.jsx)(Ze.a,{className:"checkbox",onChange:this.toggleDateComplete,checked:null===(e=s.dueDate)||void 0===e?void 0:e.complete}),Object(n.jsxs)("div",{className:"dew-date-details flex",onClick:function(){return t.toggleModal("isEditDateShow")},children:[Object(n.jsxs)("p",{children:[this.convertNumToDate(g)," at ",g.substring(11)]}),this.checkIfDateComplete(g),Object(n.jsx)(bt.a,{})]})]})]}),Object(n.jsxs)("div",{className:"form flex column",children:[Object(n.jsxs)("div",{className:"flex title",children:[Object(n.jsx)(it.a,{className:"description-icon",color:"disabled"}),Object(n.jsx)("h3",{className:"title",children:"Description"})]}),Object(n.jsx)("textarea",{className:"textarea",name:"description",id:"outlined-multiline-static",placeholder:"add a more detailed description...",value:o,onChange:this.handleChange})]}),(null===u||void 0===u?void 0:u.length)>0&&Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"imgs flex",children:[Object(n.jsx)(ot.a,{className:"icon",color:"disabled"}),Object(n.jsx)("h3",{className:"title",children:"Attachment"})]}),u.map((function(e,a){return Object(n.jsxs)("div",{className:"img-details flex",children:[Object(n.jsx)("div",{className:"img-container flex",children:Object(n.jsx)("img",{className:"preview-img",src:e.url,alt:""})}),Object(n.jsxs)("div",{className:"container flex column",children:[Object(n.jsx)("p",{className:"title",children:e.name||"img.jpng"}),Object(n.jsxs)("div",{className:"flex",children:[Object(n.jsxs)("p",{children:["Added at: ",e.timestamp]}),Object(n.jsx)("span",{children:"-"}),Object(n.jsx)("p",{className:"btn",onClick:function(){return t.removeLink(a)},children:"Delete"}),Object(n.jsx)("span",{children:"-"}),Object(n.jsx)("p",{className:"btn",children:"Edit"})]})]})]},a)}))]}),b&&Object(n.jsx)(mt,{checklists:b,updateChecklist:this.updateChecklist}),Object(n.jsxs)("div",{className:"comments flex column",children:[c&&c.map((function(e){return Object(n.jsxs)(qe.a,{item:!0,className:"comment flex",children:[e.byMember&&Object(n.jsx)(Ae.a,{src:e.byMember.imgUrl,className:"avatar",children:!e.byMember.imgUrl&&C.getNameInitials(e.byMember.fullname)}),Object(n.jsx)($e.a,{id:"input-with-icon-grid",placeholder:"Write a comment...",value:e.txt,disableUnderline:!0,fullWidth:!0})]},e.id)})),Object(n.jsxs)(qe.a,{item:!0,className:"comment flex",children:[Object(n.jsx)(Ae.a,{src:(null===A||void 0===A?void 0:A.imgUrl)||"",className:"avatar",children:!(null===A||void 0===A?void 0:A.imgUrl)&&C.getNameInitials((null===A||void 0===A?void 0:A.fullname)||"")}),Object(n.jsx)($e.a,{id:"input-with-icon-grid ",placeholder:"Write a comment...",value:this.state.comment.txt,disableUnderline:!0,fullWidth:!0,name:"txt"})]})]})]}),Object(n.jsxs)("div",{className:"sidebar flex column",children:[Object(n.jsx)("h3",{className:"sidebar-title",children:"ADD TO CARD"}),Object(n.jsxs)("button",{className:"btn flex",onClick:function(){return t.toggleModal("isMembersModalShow")},children:[Object(n.jsx)(Ie.a,{className:"icon"})," Members"]}),Object(n.jsxs)("button",{className:"btn flex",onClick:function(){return t.toggleModal("isLabelsModalShow")},children:[Object(n.jsx)(ye.a,{className:"icon"})," Labels"]}),Object(n.jsxs)("button",{className:"btn flex",onClick:function(){return t.toggleModal("isChecklistShow")},children:[Object(n.jsx)(Fe.a,{className:"icon"})," Checklist"]}),Object(n.jsxs)("button",{className:"btn flex",onClick:function(){return t.toggleModal("isEditDateShow")},children:[Object(n.jsx)(dt.a,{className:"icon"})," Dates"]}),Object(n.jsxs)("button",{className:"btn flex",onClick:function(){return t.toggleModal("isAttachmentShow")},children:[Object(n.jsx)(ot.a,{className:"icon"})," Attachment"]})]})]})]}),this.state.isMembersModalShow&&Object(n.jsx)(ke,{board:p,task:s,toggleEditMembers:function(){t.toggleModal("isMembersModalShow")},toggleTaskMember:this.toggleTaskMember}),this.state.isLabelsModalShow&&Object(n.jsx)(Oe,{task:s,board:p,toggleEditLabels:function(){t.toggleModal("isLabelsModalShow")},checkLabel:this.checkIfLabelInTask,onRemoveLabel:this.onRemoveLabel,onAddLabel:this.onAddLabel,updateLabel:this.updateLabel,addLabelToBoard:this.addLabelToBoard}),this.state.isEditDateShow&&Object(n.jsx)(Be,{prevPage:"task-details",toggleModal:this.toggleModal,task:s,setDate:this.setDate}),this.state.isAttachmentShow&&Object(n.jsxs)("div",{className:"attachment flex column",children:[Object(n.jsxs)("div",{className:"flex container",children:[Object(n.jsx)("label",{htmlFor:"text",children:"Attach a link"}),Object(n.jsx)(at.a,{className:"btn task-details-close",onClick:function(){return t.toggleModal("isAttachmentShow")}})]}),Object(n.jsx)("input",{type:"text",name:"url",value:this.state.attachment.url||"",onChange:this.changeHandlerFile,placeholder:"Paste any link here..."}),Object(n.jsx)("label",{htmlFor:"text",children:"Link name"}),Object(n.jsx)("input",{type:"text",name:"name",value:this.state.attachment.name||"",onChange:this.changeHandlerFile}),Object(n.jsx)("button",{onClick:this.handleSubmissionFile,children:"Attach"})]}),this.state.isChooseCoverShow&&Object(n.jsxs)("div",{className:"colors-pick flex",children:[Object(n.jsx)("label",{children:"Select a color"}),["#f1d600","#ff9f1a","#eb5a46","#c377e0","#0279bf","#00c2e0","#60be50","#50e898","#fe78cb","#344563","#b3bac5"].map((function(e,a){return Object(n.jsx)("div",{style:{backgroundColor:e},className:"color",onClick:function(){return t.changeCover(e)}},a)}))]}),this.state.isChecklistShow&&Object(n.jsx)("div",{className:"checklist attachment",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:"Add checklist"}),Object(n.jsx)("input",{type:"text",name:"title",value:r.title,onChange:this.onChangeChecklist,placeholder:"Add checklist title here..."}),Object(n.jsx)("button",{onClick:this.handleSubmissionChecklist,children:"Add"})]})})]})}}]),a}(s.Component);var vt={saveBoard:F},Ot=Object(i.b)((function(e){return{currBoard:e.boardModule.currBoard,loggedInUser:e.userModule.loggedInUser}}),vt)(ft),kt=a(127),Ct=a.n(kt),xt=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isEditLabelOpen:!1,currLabel:null},e.checkIfMemberInBoard=function(t){var a,n=new RegExp(t);return null===(a=e.props.board.members)||void 0===a?void 0:a.some((function(e){return n.test(e.fullname)}))},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.users,s=t.toggleAddMembers,r=t.toggleUser;t.board;return Object(n.jsxs)("div",{className:"edit-users-container",children:[Object(n.jsxs)("div",{className:"edit-users-header",children:[Object(n.jsx)("h1",{className:"title",children:"Invite to board"}),Object(n.jsx)("button",{className:"close-edit-users-btn",onClick:s,children:"x"})]}),a&&a.map((function(t){return Object(n.jsxs)("div",{onClick:function(){return r(t)},className:"users-preview",children:[Object(n.jsx)(Ae.a,{className:"avatar",src:t.imgUrl,children:C.getNameInitials(t.fullname)},t._id),Object(n.jsx)("h4",{className:"users-name",children:t.fullname}),e.checkIfMemberInBoard(t.fullname)&&Object(n.jsx)(me.a,{})]},t._id)}))]})}}]),a}(s.Component),Bt=a(126),Nt=a.n(Bt),yt=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isChangeBoardTitleOpen:!1,isAddMembersOpen:!1,isMenuShow:!1,board:{title:""}},e.handleClick=function(t){e.node.contains(t.target)||e.state.isChangeBoardTitleOpen&&e.handleClickOutside()},e.handleClickOutside=function(){e.onChangeBoardTitle(e.state.board.title),e.setState({isChangeBoardTitleOpen:!1,isAddMembersOpen:!1})},e.toggleChangeBoardTitle=function(){e.props.onToggleCharts("close"),e.setState({isChangeBoardTitleOpen:!e.state.isChangeBoardTitleOpen})},e.toggleAddMembers=function(){e.props.onToggleCharts("close"),e.setState({isAddMembersOpen:!e.state.isAddMembersOpen})},e.handleChange=function(t){t.preventDefault();var a=t.target.value,n=t.target.name;e.setState(Object(m.a)(Object(m.a)({},e.state),{},{board:Object(j.a)({},n,a)}))},e.onChangeBoardTitle=function(t){e.toggleChangeBoardTitle(),e.props.changeBoardTitle(t)},e.toggleModal=function(){var t=e.state.isMenuShow;e.setState({isMenuShow:!t})},e}return Object(u.a)(a,[{key:"componentWillMount",value:function(){document.addEventListener("mousedown",this.handleClick,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClick,!1)}},{key:"render",value:function(){var e=this,t=this.props,a=t.board,s=t.onToggleSideBar,r=t.users,o=t.toggleUser,c=t.onToggleCharts,i=a.members,l=this.state,d=l.isChangeBoardTitleOpen,u=l.isAddMembersOpen,b=l.isMenuShow,p=this.state.board.title;return Object(n.jsx)("div",{className:"board-header",ref:function(t){e.node=t},children:Object(n.jsxs)("div",{className:"header-options",children:[Object(n.jsx)(ht.a,{className:"menu-icon",onClick:this.toggleModal}),b&&Object(n.jsxs)("div",{className:"board-menu-modal",children:[Object(n.jsxs)("div",{className:"header-stats-mobile",onClick:c,children:[" ",Object(n.jsx)(Nt.a,{})," Statistics "]}),Object(n.jsxs)("div",{className:"header-avatars-mobile",children:[i.map((function(e){return Object(n.jsx)(Ae.a,{className:"header-avatar-mobile",src:e.imgUrl,children:C.getNameInitials(e.fullname)},e._id)})),Object(n.jsx)(Ae.a,{onClick:this.toggleAddMembers,className:"header-avatar add-member-avatar",children:Object(n.jsx)(Ct.a,{})})]}),Object(n.jsx)("button",{onClick:s,className:"open-side-bar-btn-mobile",children:"Show menu"})]}),!d&&Object(n.jsx)("div",{className:"header-title",onClick:this.toggleChangeBoardTitle,children:a.title}),d&&Object(n.jsx)("form",{onSubmit:function(){return e.onChangeBoardTitle(p)},children:Object(n.jsx)("input",{autoComplete:"off",className:"board-title-input",onChange:this.handleChange,type:"text",name:"title",defaultValue:a.title,onClick:this.handleClick})}),Object(n.jsxs)("div",{className:"header-stats",onClick:c,children:[" ",Object(n.jsx)(Nt.a,{})," Statistics "]}),Object(n.jsxs)("div",{className:"header-avatars",children:[i.map((function(e){return Object(n.jsx)(Ae.a,{className:"header-avatar",src:e.imgUrl,children:C.getNameInitials(e.fullname)},e._id)})),Object(n.jsx)(Ae.a,{onClick:this.toggleAddMembers,className:"header-avatar add-member-avatar",children:Object(n.jsx)(Ct.a,{})})]}),u&&Object(n.jsx)(xt,{toggleUser:o,board:a,toggleAddMembers:this.toggleAddMembers,users:r}),Object(n.jsxs)("button",{onClick:s,className:"open-side-bar-btn",children:[Object(n.jsx)(Je.a,{}),"Show menu"]})]})})}}]),a}(r.a.Component),St=a(129),It=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={groupsTitles:[],tasksAmount:[],tasksPerMember:{}},e.createData=function(){var t=e.props.board,a=[],n=0,s=0,r=0,o=t.groups.map((function(e){var t=e.tasks,o=0;if(t)return t.forEach((function(e){++o;var t=e.members;t&&t.forEach((function(e){"Roey Barda"===e.fullname&&++n,"Noa Kaplan"===e.fullname&&++s,"Rotem Bar"===e.fullname&&++r}))})),a.push(o),e.title})),c={Roey:n,Noa:s,Rotem:r};e.setState({tasksPerMember:c}),e.setState({groupsTitles:o,tasksAmount:a})},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.createData()}},{key:"render",value:function(){var e=this.props.onToggleCharts,t=this.props.currBoard,a=this.state,s=a.groupsTitles,r=a.tasksAmount,o=a.tasksPerMember;if(!t||!s&&!r&&!o)return Object(n.jsx)("div",{className:"loading",children:Object(n.jsx)("img",{className:"loading-img",src:ie})});var c={labels:Object.values(this.state.groupsTitles),datasets:[{label:"Tasks Per Group",data:Object.values(this.state.tasksAmount),backgroundColor:["#ff595e","#ffca3a","#8ac926","#6a4c93","#a3cef1","#ea3546"],borderWidth:0}]},i={labels:Object.keys(o),datasets:[{label:"Tasks Per Member",data:Object.values(o),backgroundColor:["#ff595e","#ffca3a","#8ac926","#6a4c93","#a3cef1","#ea3546"],borderWidth:0,options:{scales:{y:{beginAtZero:!0}}}}]};return Object(n.jsxs)("section",{className:"board-charts",children:[Object(n.jsx)("div",{className:"header-title",children:"Statistics"}),Object(n.jsxs)("div",{className:"chart-container a",children:[Object(n.jsx)("div",{className:"title",children:"Tasks Per Group"}),Object(n.jsx)(St.b,{className:"chart",options:{maintainAspectRatio:!1},data:c})]}),Object(n.jsxs)("div",{className:"chart-container b",children:[Object(n.jsx)("div",{className:"title",children:"Tasks Per Member"}),Object(n.jsx)(St.a,{className:"chart",data:i,options:{maintainAspectRatio:!1}})]}),Object(n.jsx)("button",{className:"close-chart",onClick:e,children:"Close X"})]})}}]),a}(r.a.Component);var Tt={setBoard:P},wt=Object(i.b)((function(e){return{currBoard:e.boardModule.currBoard}}),Tt)(It),Dt=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isSideBarOpen:!1,isAddGroupOpen:!1,isDragDisabled:!1,isChartsOpen:!1,group:{title:""}},e.handleChange=function(t){t.preventDefault();var a=t.target.value,n=t.target.name;e.setState({group:Object(j.a)({},n,a)})},e.onToggleSideBar=function(){e.setState({isChartsOpen:!1}),e.setState({isSideBarOpen:!e.state.isSideBarOpen})},e.onToggleCharts=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if("close"===t)return e.setState({isChartsOpen:!1});e.setState({isChartsOpen:!e.state.isChartsOpen})},e.getBoardDetails=function(){var t=e.props.match.params.boardId;e.props.setBoard(t)},e.onDeleteGroup=function(t){var a=e.props.currBoard;Ye.deleteGroup(a,t.id),E.addActivity(e.props.loggedInUser,a,t,"deleted the list:"),e.props.saveBoard(a)},e.onCopyGroup=function(t){var a=e.props.currBoard;Ye.copyGroup(a,t),E.addActivity(e.props.loggedInUser,a,t,"copied the list:"),e.props.saveBoard(a)},e.changeGroupName=function(t,a){var n=e.props.currBoard;Ye.changeGroupName(t,a)&&(E.addActivity(e.props.loggedInUser,n,a,'changed the list name to: "'.concat(t,'" from:')),e.props.saveBoard(n))},e.changeBoardTitle=function(t){var a=e.props.currBoard;a.title!==t&&""!==t&&(E.changeBoardTitle(a,t),E.addActivity(e.props.loggedInUser,a,null,'changed the board name to: "'.concat(t,'"')),e.props.saveBoard(a))},e.onToggleAddGroup=function(){e.setState({isAddGroupOpen:!e.state.isAddGroupOpen})},e.onAddGroup=function(t){e.onToggleAddGroup();var a=e.props.currBoard,n=Ye.addGroup(a,t);E.addActivity(e.props.loggedInUser,a,n,"Added a new list named:"),e.props.saveBoard(a)},e.goBack=function(){e.props.history.push("/board")},e.onAddTask=function(t,a){var n=e.props.loggedInUser,s=e.props.currBoard,r=pe.addTask(s,t.id,a,n);E.addActivity(e.props.loggedInUser,s,t,"Added a new card named:",r),e.props.saveBoard(s)},e.onUpdateTask=function(t,a,n){var s=e.props.currBoard;pe.updateTask(s,t.id,a),E.addActivity(e.props.loggedInUser,s,t,'changed the card name to: "'.concat(a.title,'" from:'),n),e.props.saveBoard(s)},e.onDeleteTask=function(t,a){var n=e.props.currBoard;pe.deleteTask(n,t.id,a.id),E.addActivity(e.props.loggedInUser,n,t,"deleted the card:",a),e.props.saveBoard(n)},e.onAddLabel=function(t,a,n){var s=e.props.currBoard;pe.addLabel(s,t,a,n),e.props.saveBoard(s)},e.checkLabel=function(t,a,n){var s=e.props.currBoard;return pe.checkLabel(s,t,a,n)},e.onRemoveLabel=function(t,a,n){var s=e.props.currBoard;pe.onRemoveLabel(s,t,a,n),e.props.saveBoard(s)},e.updateLabel=function(t,a){var n=e.props.currBoard;jt.updateLabel(n,t,a),e.props.saveBoard(n)},e.addLabelToBoard=function(t){var a=e.props.currBoard;jt.addLabelToBoard(a,t),e.props.saveBoard(a)},e.getDatePreview=function(e){return pe.getDatePreview(e)},e.toggleTaskMember=function(t,a){var n=e.props.currBoard;pe.toggleTaskMember(t,a),e.props.saveBoard(n)},e.handleOnDragEnd=function(t){var a=e.props.currBoard;if(t.destination){if("list"===t.type){var n=a.groups,s=n.splice(t.source.index,1),r=Object(be.a)(s,1)[0];n.splice(t.destination.index,0,r)}else{var o=a.groups.find((function(e){return e.id===t.source.droppableId})).tasks.splice(t.source.index,1),c=Object(be.a)(o,1)[0];a.groups.find((function(e){return e.id===t.destination.droppableId})).tasks.splice(t.destination.index,0,c)}e.props.saveBoard(a)}},e.onChangeBg=function(t,a,n){var s=e.props.currBoard;E.changeBg(t,a,n,s),e.props.saveBoard(s)},e.toggleDroppable=function(){e.setState(Object(m.a)(Object(m.a)({},e.state),{},{isDragDisabled:!e.state.isDragDisabled}))},e.setDate=function(t,a){var n=e.props.currBoard;pe.setTaskDate(a,t),e.props.saveBoard(n)},e.toggleUser=function(t){var a=e.props.currBoard;E.toggleUser(a,t),e.props.saveBoard(a)},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.boardId;this.getBoardDetails(),this.props.loadUsers(),J.setup(),J.emit("join board",t),J.on("updated board",(function(t){e.props.setBoard(t._id)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.isAddGroupOpen,s=t.isSideBarOpen,r=t.isDragDisabled,o=t.isChartsOpen,c=this.props.users,i=this.state.group.title,d=this.props.currBoard;return d?Object(n.jsxs)("div",{className:"group-container",children:[Object(n.jsxs)("div",{className:"task-details-container",children:[Object(n.jsx)(l.a,{component:Ot,path:"/board/:boardId/:groupId/:taskId"}),Object(n.jsx)("div",{className:"board-window",style:d.style.imgUrl?{backgroundImage:"url(".concat(d.style.imgUrl,")")}:{backgroundColor:d.style.bgColor}})]}),Object(n.jsx)("div",{className:"board-header-container",children:Object(n.jsx)(yt,{toggleUser:this.toggleUser,users:c,changeBoardTitle:this.changeBoardTitle,board:d,onToggleSideBar:this.onToggleSideBar,onToggleCharts:this.onToggleCharts})}),s&&Object(n.jsx)(Xe,{onChangeBg:this.onChangeBg,getDatePreview:this.getDatePreview,board:d,onToggleSideBar:this.onToggleSideBar}),o&&Object(n.jsx)(wt,{board:d,onToggleCharts:this.onToggleCharts}),Object(n.jsx)(Ge.a,{onDragEnd:this.handleOnDragEnd,children:Object(n.jsx)(Ge.c,{droppableId:d._id,direction:"horizontal",type:"list",children:function(t){return Object(n.jsxs)("div",Object(m.a)(Object(m.a)({className:"board-container"},t.droppableProps),{},{ref:t.innerRef,children:[d.groups&&d.groups.map((function(t,a){return Object(n.jsx)(Ge.b,{isDragDisabled:r,draggableId:t.id,index:a,children:function(a){return Object(n.jsx)("div",Object(m.a)(Object(m.a)(Object(m.a)({},a.draggableProps),a.dragHandleProps),{},{ref:a.innerRef,children:Object(n.jsx)(ze,{setDate:e.setDate,toggleDroppable:e.toggleDroppable,isDragDisabled:r,changeGroupName:e.changeGroupName,toggleTaskMember:e.toggleTaskMember,updateLabel:e.updateLabel,addLabelToBoard:e.addLabelToBoard,checkLabel:e.checkLabel,onRemoveLabel:e.onRemoveLabel,onAddLabel:e.onAddLabel,onDeleteTask:e.onDeleteTask,onUpdateTask:e.onUpdateTask,onCopyGroup:e.onCopyGroup,onDeleteGroup:e.onDeleteGroup,board:d,group:t,onAddTask:e.onAddTask})}))}},t.id)})),!a&&Object(n.jsx)("button",{className:"add-group-toggle-btn",onClick:e.onToggleAddGroup,children:"+ Add another list"}),a&&Object(n.jsxs)("form",{className:"add-group-form",onSubmit:e.handleChange,children:[Object(n.jsx)("textarea",{name:"title",placeholder:"Enter list title...",className:"group-title-input",id:"",cols:"1",rows:"1",onChange:e.handleChange}),Object(n.jsxs)("div",{className:"add-group-controls",children:[Object(n.jsx)("button",{className:"add-group-add-btn",onClick:function(){return e.onAddGroup(i)},children:" Add list"}),Object(n.jsx)("button",{className:"add-group-close-btn",onClick:e.onToggleAddGroup,children:" X "})]})]}),t.placeholder]}))}})})]}):Object(n.jsx)("div",{className:"loading",children:Object(n.jsx)("img",{className:"loading-img",src:ie})})}}]),a}(r.a.Component);var Et={loadUsers:Z,setBoard:P,loadBoards:R,saveBoard:F},Lt=Object(i.b)((function(e){return{loggedInUser:e.userModule.loggedInUser,currBoard:e.boardModule.currBoard,boards:e.boardModule.boards,users:e.userModule.users}}),Et)(Dt),Mt=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isLogin:!0,msg:"",loginCred:{username:"",password:""},signupCred:{username:"",password:"",fullname:""}},e.onToggleLoginSignup=function(){e.setState({isLogin:!e.state.isLogin})},e.loginHandleChange=function(t){var a=t.target,n=a.name,s=a.value;e.setState((function(e){return{loginCred:Object(m.a)(Object(m.a)({},e.loginCred),{},Object(j.a)({},n,s))}}))},e.signupHandleChange=function(t){var a=t.target,n=a.name,s=a.value;e.setState((function(e){return{signupCred:Object(m.a)(Object(m.a)({},e.signupCred),{},Object(j.a)({},n,s))}}))},e.doLogin=function(){var t=Object(O.a)(v.a.mark((function t(a){var n,s,r,o;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=e.state.loginCred,s=n.username,r=n.password,s){t.next=4;break}return t.abrupt("return",e.setState({msg:"Please enter user/password"}));case 4:o={username:s,password:r};try{e.props.login(o),e.setState({loginCred:{username:"",password:""}})}catch(c){e.setState({msg:"Login failed, try again."})}case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.doSignup=function(){var t=Object(O.a)(v.a.mark((function t(a){var n,s,r,o,c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=e.state.signupCred,s=n.username,r=n.password,o=n.fullname,s&&r&&o){t.next=4;break}return t.abrupt("return",e.setState({msg:"All inputs are required"}));case 4:c={username:s,password:r,fullname:o},e.props.signup(c),e.setState({signupCred:{username:"",password:"",fullname:""}});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.removeUser=function(t){e.props.removeUser(t)},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.loadUsers()}},{key:"render",value:function(){var e=Object(n.jsxs)("form",{className:"frm",onSubmit:this.doLogin,children:[Object(n.jsx)("h2",{className:"title",children:"Login"}),Object(n.jsxs)("div",{className:"cradentials",children:[Object(n.jsx)("input",{name:"username",value:this.state.loginCred.username,onChange:this.loginHandleChange,autoComplete:"off",placeholder:"Username"}),Object(n.jsx)("input",{name:"password",type:"password",value:this.state.loginCred.password,onChange:this.loginHandleChange,placeholder:"Password",autoComplete:"off"}),Object(n.jsx)("button",{className:"login-signup-btn",onClick:this.doLogin,children:"Login"})]})]}),t=Object(n.jsxs)("form",{className:"frm",onSubmit:this.doSignup,children:[Object(n.jsx)("h2",{className:"title",children:"Signup"}),Object(n.jsxs)("div",{className:"cradentials",children:[Object(n.jsx)("input",{type:"text",name:"fullname",value:this.state.signupCred.fullname,onChange:this.signupHandleChange,placeholder:"Full name",autoComplete:"off"}),Object(n.jsx)("input",{name:"password",value:this.state.signupCred.password,onChange:this.signupHandleChange,placeholder:"Password",autoComplete:"off"}),Object(n.jsx)("input",{type:"text",name:"username",value:this.state.signupCred.username,onChange:this.signupHandleChange,placeholder:"Username",autoComplete:"off"}),Object(n.jsx)("button",{className:"login-signup-btn",children:"Signup"})]})]}),a=this.state.isLogin,s=this.props.loggedInUser;return Object(n.jsx)("div",{className:"form-container",children:Object(n.jsxs)("div",{className:"login-sigup",children:[Object(n.jsx)("p",{children:this.state.msg}),s&&Object(n.jsxs)("div",{className:"welcome-user-msg",children:[Object(n.jsxs)("h3",{children:["Welcome ",s.fullname]}),Object(n.jsx)("button",{className:"login-signup-btn",onClick:this.props.logout,children:"Logout"})]}),!s&&a&&e,!s&&!a&&t,!s&&Object(n.jsx)("div",{onClick:this.onToggleLoginSignup,className:"change-login-signup-btn",children:a?"don't have an account yet?":"I already have an account"})]})})}}]),a}(s.Component),Qt={login:function(e){return function(){var t=Object(O.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G.login(e);case 3:n=t.sent,a({type:"SET_USER",user:n}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("UserActions: err in login",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},logout:function(){return function(){var e=Object(O.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.logout();case 3:t({type:"SET_USER",user:null}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("UserActions: err in logout",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},signup:function(e){return function(){var t=Object(O.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G.signup(e);case 3:n=t.sent,a({type:"SET_USER",user:n}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("UserActions: err in signup",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},removeUser:function(e){return function(){var t=Object(O.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G.remove(e);case 3:a({type:"REMOVE_USER",userId:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("UserActions: err in removeUser",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},loadUsers:Z},Ut=[{path:"/",component:h},{path:"/board",component:ue},{path:"/board/:boardId?/:groupId?/:taskId?",component:Lt},{path:"/login",component:Object(i.b)((function(e){return{users:e.userModule.users,loggedInUser:e.userModule.loggedInUser}}),Qt)(Mt)}],Jt=a(190),Rt=a.n(Jt),Ft=a.p+"static/media/logo1.2c1feed6.png",Pt=(a.p,function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.loggedInUser;return Object(n.jsxs)("header",{className:"main-header",children:[Object(n.jsx)(A.b,{className:"home-link-header",to:"/",children:Object(n.jsx)(Rt.a,{})}),Object(n.jsx)(A.b,{className:"boards-link-header",to:"/board",children:"Boards"}),Object(n.jsx)(A.b,{className:"logo-header",to:"/",children:Object(n.jsx)("img",{className:"logo-header-img",src:Ft})}),e?Object(n.jsxs)(A.b,{className:"login-link-header",to:"/login",children:[" ",Object(n.jsx)(Ae.a,{className:"logged-in-user-avatar",src:e.imgUrl,children:!e.imgUrl&&C.getNameInitials(e.fullname)},e._id)," ",e.fullname," "]}):Object(n.jsx)(A.b,{className:"login-link-header",to:"/login",children:"Login"})]})}}]),a}(s.Component)),Gt=Object(i.b)((function(e){return{loggedInUser:e.userModule.loggedInUser}}),{})(Pt);function Kt(){return Object(n.jsxs)("div",{className:"app",children:[Object(n.jsx)(Gt,{}),Object(n.jsx)("main",{children:Object(n.jsx)(l.c,{children:Ut.map((function(e){return Object(n.jsx)(l.a,{exact:!0,component:e.component,path:e.path},e.path)}))})})]})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(357);var Ht=a(31),_t=a(191),Wt={currBoard:null,boards:[]};var zt=null;sessionStorage.loggedinUser&&(zt=JSON.parse(sessionStorage.loggedinUser));var Vt={loggedInUser:zt,users:[]};var Xt=Object(Ht.c)({boardModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_BOARDS":return Object(m.a)(Object(m.a)({},e),{},{boards:t.boards});case"ADD_BOARD":return Object(m.a)(Object(m.a)({},e),{},{boards:[].concat(Object(k.a)(e.boards),[t.board])});case"UPDATE_BOARD":return Object(m.a)(Object(m.a)({},e),{},{boards:e.boards.map((function(e){return e._id===t.board._id?t.board:e}))});case"REMOVE_BOARD":return Object(m.a)(Object(m.a)({},e),{},{boards:e.boards.filter((function(e){return e._id!==t.boardId}))});case"SET_CURR_BOARD":return Object(m.a)(Object(m.a)({},e),{},{currBoard:t.currBoard});default:return e}},userModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_USERS":return Object(m.a)(Object(m.a)({},e),{},{users:t.users});case"SET_USER":return Object(m.a)(Object(m.a)({},e),{},{loggedInUser:t.user});case"REMOVE_USER":return Object(m.a)(Object(m.a)({},e),{},{users:e.users.filter((function(e){return e._id!==t.userId}))});default:return e}}}),Yt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ht.d,Zt=Object(Ht.e)(Xt,Yt(Object(Ht.a)(_t.a))),qt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,400)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),s(e),r(e),o(e)}))};c.a.render(Object(n.jsx)(i.a,{store:Zt,children:Object(n.jsx)(A.a,{children:Object(n.jsx)(Kt,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),qt()}},[[358,1,2]]]);
//# sourceMappingURL=main.7e0b9d7b.chunk.js.map