{"version":3,"sources":["assets/imgs/logo4.png","assets/imgs/logo3.png","pages/Home.jsx","services/utilService.js","services/httpService.js","services/boardService.js","services/socketService.js","store/actions/boardActions.js","services/userService.js","store/actions/userActions.js","cmps/DeleteBoardConfirm.jsx","cmps/BoardPreview.jsx","cmps/BoardCreate.jsx","assets/imgs/plus.png","cmps/BoardList.jsx","assets/imgs/loading.gif","pages/BoardPage.jsx","services/taskService.js","cmps/LabelPreview.jsx","cmps/LabelEdit.jsx","cmps/LabelsList.jsx","cmps/MembersList.jsx","cmps/Dates.jsx","cmps/TaskOptions.jsx","cmps/TaskPreview.jsx","cmps/TaskList.jsx","cmps/GroupOptions.jsx","cmps/Group.jsx","cmps/BgPicksList.jsx","cmps/SideBar.jsx","services/groupService.js","services/labelService.js","cmps/Checklist.jsx","pages/TaskDetails.jsx","cmps/AddUsers.jsx","cmps/BoardHeader.jsx","cmps/BoardCharts.jsx","pages/BoardDetails.jsx","pages/LoginSignup.jsx","routes.js","assets/imgs/logo1.png","cmps/Header.jsx","assets/imgs/logo2.png","App.jsx","serviceWorkerRegistration.js","store/reducers/boardReducer.js","store/reducers/userReducer.js","store/reducers/index.js","store/store.js","reportWebVitals.js","index.js"],"names":["Home","className","src","Logo4","to","Component","utilService","delay","ms","Promise","resolve","setTimeout","getRandomInt","min","max","Math","ceil","floor","random","makeId","length","txt","possible","i","charAt","getNameInitials","name","rgx","RegExp","initials","matchAll","shift","pop","toUpperCase","convertToCreatedAtDate","date","month","getUTCMonth","day","getUTCDate","year","getUTCFullYear","BASE_URL","axios","Axios","create","withCredentials","httpService","endpoint","data","ajax","a","method","url","params","res","console","dir","response","status","window","location","assign","boardService","query","getById","id","save","changeBg","pick","imgUrl","bgColor","board","style","remove","addActivity","loggedInUser","group","action","task","Date","createdAt","newActivity","byMember","fullname","activities","changeBoardTitle","newBoardTitle","title","toggleUser","user","userIdx","members","findIndex","boardMember","_id","splice","boards","socketService","socket","setup","io","reconnection","on","eventName","cb","off","removeAllListeners","emit","terminate","createSocketService","loadBoards","dispatch","type","saveBoard","savedBoard","log","setBoard","boardId","currBoard","userService","login","logout","signup","getUsers","userId","update","getLoggedinUser","increaseScore","_saveLocalUser","by","score","userCred","sessionStorage","clear","setItem","JSON","stringify","parse","getItem","loadUsers","users","DeleteBoardConfirm","onToggleDelete","onRemoveBoard","onClick","ev","stopPropagation","preventDefault","divClick","_BoardPreview","state","isDeleteBoardOpen","setState","props","removeBoard","this","img","clr","textDecoration","backgroundImage","backgroundColor","React","mapDispatchToProps","BoardPreview","connect","_BoardCreate","isCreateHidden","toggleModalVisibility","boolean","handleChange","target","value","handleBackground","onCreateBoard","alt","hidden","onSubmit","autoComplete","placeholder","onChange","BoardCreate","boardModule","BoardList","map","_BoardPage","loading","BoardPage","userModule","taskService","getPreview","checklists","todosSum","doneTodosSum","forEach","checklist","currTodosSum","todos","currDoneTodosSum","filter","todo","isDone","getDatePreview","currDate","monthName","substring","addTask","groupId","newTitle","groupIdx","groups","tasks","newTask","comments","attachments","updateTask","updatedTask","updatedTaskId","deleteTask","taskId","taskIdx","getTaskById","find","addLabel","labelId","fitLabelId","TaskIdx","labelIds","push","onRemoveLabel","labelIdx","currLabelId","checkLabel","toggleTaskMember","member","memberIdx","taskMember","addComment","comment","commentIdx","taskcomment","setTaskDate","dueDate","complete","getTimeStemp","event","toLocaleDateString","weekday","LabelPreview","lable","isLabelsOpen","from","color","LabelEdit","currLabel","label","onSaveLabel","toggleEditLabel","updateLabel","addLabelToBoard","key","setLabelColor","LabelsList","isEditLabelOpen","onLabelToggle","onAddLabel","checkIfLabelInTask","some","toggleEditLabels","Fragment","labels","MembersList","checkIfMemberInTask","patten","test","toggleEditMembers","Avatar","_Dates","closeDateModal","prevPage","toggleModal","toggleChangeDueDate","setDate","noValidate","TextField","defaultValue","autoFocus","InputLabelProps","shrink","Dates","TaskOptions","isEditLabelsOpen","isEditMembersOpen","isEditDueDateOpen","onUpdateTask","onToggleTaskOptions","preventDragHandler","e","onDeleteTask","cols","rows","TaskPreview","isTaskOptionsShow","getLableById","toggleTaskOptions","toggleDroppable","toggleLabels","convertNumToDate","deuDate","getChecklistsPreview","legnth","fullName","_TaskList","isDragDisabled","listRef","createRef","isScroll","current","scrollIntoView","behavior","isAddTaskOpen","onToggleAddTask","handleTaskChange","onAddTask","newTaskTitle","droppableId","provided","droppableProps","ref","innerRef","index","draggableId","draggableProps","dragHandleProps","TaskList","GroupOptions","onToggleGroupOptions","onDeleteGroup","onCopyGroup","Group","isGroupOptionOpen","isChangeGroupNameOpen","handleClick","node","contains","handleClickOutside","onChangeGroupName","handleGroupChange","toggleChangeGroupName","newGroupTitle","changeGroupName","document","addEventListener","removeEventListener","BgPicksList","bgPicks","onChangeBg","border","SideBar","isChangeBgOpen","isBgPickOpen","onToggleChangeBg","onTogglePickBg","picks","onToggleSideBar","activity","groupService","deleteGroup","copyGroup","groupCopy","currGroup","addGroup","newGroup","labelService","labelUpdates","currLabelIdx","newLabel","Checklist","toggleComplete","checklistIdx","todoIdx","updateChecklist","addTodo","removeTodo","Checkbox","checked","wrap","_TaskDetails","isMembersModalShow","isLabelsModalShow","isEditLabelsShow","isEditDateShow","isAttachmentShow","isAttachment2Show","isChooseCoverShow","isChecklistShow","isMenueShow","attachment","timestamp","match","goBack","history","modal","taskLabelId","getLabelProperty","changeHandlerFile","handleSubmissionFile","handleSubmissionFile2","removeLink","urlIdx","setCover","changeCover","checkIfDateComplete","toggleDateComplete","onChangeChecklist","handleSubmissionChecklist","unshift","description","htmlFor","AvatarGroup","Grid","item","Input","disableUnderline","fullWidth","TaskDetails","AddUsers","checkIfMemberInBoard","toggleAddMembers","BoardHeader","isChangeBoardTitleOpen","isAddMembersOpen","isMenuShow","onChangeBoardTitle","toggleChangeBoardTitle","onToggleCharts","_BoardCharts","groupsTitles","tasksAmount","tasksPerMember","createData","roeyCount","noaCount","rotemCount","tasksCount","tasksPerGroupData","Object","values","datasets","borderWidth","tasksPerMemberData","keys","options","scales","y","beginAtZero","maintainAspectRatio","BoardCharts","_BoardDetails","isSideBarOpen","isAddGroupOpen","isChartsOpen","order","getBoardDetails","onToggleAddGroup","onAddGroup","dateNum","handleOnDragEnd","result","destination","source","reorderedItem","component","path","onDragEnd","direction","BoardDetails","_LoginSignup","isLogin","msg","loginCred","username","password","signupCred","onToggleLoginSignup","loginHandleChange","prevState","signupHandleChange","doLogin","userCreds","err","doSignup","signupCreds","removeUser","loginSection","signupSection","routes","_Header","Logo1","Header","App","route","exact","Boolean","hostname","initialState","localLoggedinUser","loggedinUser","rootReducer","combineReducers","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.7e0b9d7b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo4.2c1feed6.png\";","export default __webpack_public_path__ + \"static/media/logo3.4f609611.png\";","import { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport Logo3 from '../assets/imgs/logo3.png'\nimport Logo4 from '../assets/imgs/logo4.png'\n\nexport class Home extends Component {\n    render() {\n        return (\n            <div className=\"home\">\n                <div className=\"home-txt-container\">\n                    {/* <h1 className=\"home-title\">EasyTask</h1> */}\n                    <img className=\"logo-home\" src={Logo4}/>\n                    <h3 className=\"home-txt\">\n                    EasyTask is your new partner who will help you all throughout your project.\n                        From planning, through working and eventually finishing your project.\n                        EasyTask is flexible to any project you could dream of.\n                    </h3>\n                <Link to=\"/board\" className=\"home-link\">COME ON IN!</Link>\n                </div>\n            </div>\n        )\n    }\n}","export const utilService = {\n    delay,\n    getRandomInt,\n    makeId,\n    getNameInitials,\n    convertToCreatedAtDate,\n}\n\nfunction delay(ms = 1500) {\n    return new Promise(resolve => {\n        setTimeout(resolve, ms)\n    })\n}\n\nfunction getRandomInt(min, max) {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min) + min); //The maximum is exclusive and the minimum is inclusive\n}\n\nfunction makeId(length = 5) {\n    var txt = '';\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    for (var i = 0; i < length; i++) {\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\n    }\n    return txt;\n}\n\nfunction getNameInitials(name) {\n    let rgx = new RegExp(/(\\p{L}{1})\\p{L}+/, 'gu');\n    let initials = [...name.matchAll(rgx)] || [];\n    initials = (\n        (initials.shift()?.[1] || '') + (initials.pop()?.[1] || '')\n    ).toUpperCase();\n    return initials\n}\n\nfunction convertToCreatedAtDate(date) {\n    var month = date.getUTCMonth() + 1; //months from 1-12\n    var day = date.getUTCDate();\n    var year = date.getUTCFullYear();\n    return `${year}-${(+month > 10) ? month : '0' + month}-${(+day > 10) ? day : '0' + day}T00:00`\n}","import Axios from 'axios'\n\nconst BASE_URL = process.env.NODE_ENV === 'production'\n    ? '/api/'\n    : '//localhost:3030/api/'\n\n\nvar axios = Axios.create({\n    withCredentials: true\n})\n\nexport const httpService = {\n    get(endpoint, data) {\n        return ajax(endpoint, 'GET', data)\n    },\n    post(endpoint, data) {\n        return ajax(endpoint, 'POST', data)\n    },\n    put(endpoint, data) {\n        return ajax(endpoint, 'PUT', data)\n    },\n    delete(endpoint, data) {\n        return ajax(endpoint, 'DELETE', data)\n    }\n}\n\nasync function ajax(endpoint, method = 'get', data = null) {\n    try {\n        const res = await axios({\n            url: `${BASE_URL}${endpoint}`,\n            method,\n            data,\n            params: (method === 'GET') ? data : null\n        })\n        return res.data\n    } catch (err) {\n        console.dir(err)\n        if (err.response && err.response.status === 401) {\n            window.location.assign('/#/login')\n        }\n        throw err\n    }\n}","import { storageService } from './asyncStorageService.js'\nimport { utilService } from './utilService.js';\nimport { httpService } from './httpService.js'\n\nexport const boardService = {\n    query,\n    getById,\n    save,\n    changeBg,\n    remove,\n    addActivity,\n    changeBoardTitle,\n    toggleUser\n}\n\nasync function query() {\n    const boards = await httpService.get('board');\n    return boards;\n}\n\nfunction getById(id) {\n    return httpService.get(`board/${id}`)\n}\n\nfunction remove(id) {\n    return httpService.delete(`board/${id}`)\n}\n\nasync function save(board) {\n    if (board._id) {\n        return await httpService.put(`board/${board._id}`, board)\n    } else {\n        return await httpService.post('board', board)\n    }\n}\n\nfunction changeBg(pick, imgUrl, bgColor, board) {\n    if (pick === 'photos') return board.style = { ...board.style, imgUrl }\n    board.style = { bgColor }\n}\n\nfunction addActivity(loggedInUser, board, group, action, task) {\n    const date = new Date()\n    const createdAt = utilService.convertToCreatedAtDate(date)\n    const member = (loggedInUser) ? loggedInUser : { fullname: 'guest' }\n    const newActivity = {\n        byMember: member,\n        createdAt,\n        id: 'a' + utilService.makeId(),\n        task,\n        group,\n        txt: action\n    }\n    board.activities = [newActivity, ...board.activities]\n\n}\n\nfunction changeBoardTitle(board, newBoardTitle) {\n    if (!newBoardTitle) return false\n    board.title = newBoardTitle\n    return true\n}\n\n\nfunction toggleUser(board, user) {\n    const userIdx = board.members?.findIndex(boardMember => boardMember._id === user._id)\n    if (userIdx >= 0) {\n        board.members.splice(userIdx, 1)\n        return board\n    } else {\n        if (!board.members) board.members = []\n        board.members = [...board.members, {\n            _id: user._id,\n            fullname: user.fullname,\n            imgUrl: user.imgUrl || ''\n        }]\n    }\n}","import io from 'socket.io-client'\nimport { httpService } from './httpService'\n\nexport const SOCKET_EVENT_BOARD_UPDATED = 'board-updated';\n\n\nconst baseUrl = (process.env.NODE_ENV === 'production') ? '' : '//localhost:3030'\nexport const socketService = createSocketService()\n\nwindow.socketService = socketService\n\nvar socketIsReady = false;\n\n\nfunction createSocketService() {\n    var socket = null;\n    const socketService = {\n        async setup() {\n            if (socket) return\n            await httpService.get('setup-session')\n            socket = io(baseUrl, { reconnection: false })\n            socketIsReady = true;\n        },\n        async on(eventName, cb) {\n            if (!socket) await socketService.setup()\n            socket.on(eventName, cb)\n        },\n        async off(eventName, cb = null) {\n            if (!socket) await socketService.setup()\n            if (!cb) socket.removeAllListeners(eventName)\n            else socket.off(eventName, cb)\n        },\n        async emit(eventName, data) {\n            if (!socket) await socketService.setup()\n            await socket.emit(eventName, data)\n        },\n        terminate() {\n            socket = null\n            socketIsReady = false\n        }\n    }\n    return socketService\n}\n\nfunction createDummySocketService() {\n    var listenersMap = {}\n    const socketService = {\n        listenersMap,\n        setup() {\n            listenersMap = {}\n        },\n        terminate() {\n            this.setup()\n        },\n        on(eventName, cb) {\n            listenersMap[eventName] = [...(listenersMap[eventName]) || [], cb]\n        },\n        off(eventName, cb) {\n            if (!listenersMap[eventName]) return\n            if (!cb) delete listenersMap[eventName]\n            else listenersMap[eventName] = listenersMap[eventName].filter(l => l !== cb)\n        },\n        emit(eventName, data) {\n            if (!listenersMap[eventName]) return\n            listenersMap[eventName].forEach(listener => {\n                listener(data)\n            })\n        },\n        debugMsg() {\n            this.emit('chat addMsg', { from: 'Someone', txt: 'Aha it worked!' })\n        },\n    }\n    return socketService\n}\n\n","import { boardService } from '../../services/boardService'\nimport { socketService, SOCKET_EVENT_BOARD_UPDATED } from '../../services/socketService'\n\nexport function loadBoards() {\n    return async dispatch => {\n        try {\n            const boards = await boardService.query()\n            dispatch({ type: 'SET_BOARDS', boards })\n        } catch (err) {}\n    }\n}\n\nexport function saveBoard(board) {\n    const type = board._id ? 'UPDATE_BOARD' : 'ADD_BOARD'\n    return async dispatch => { \n        try {\n            const savedBoard = await boardService.save(board)\n            dispatch({ type, board: savedBoard })\n            socketService.emit('board updated', board)\n        } catch (err) {\n            console.log('BoardActions: err in save/update board', err)\n        }\n    }\n}\n\n\nexport function removeBoard(boardId) {\n    return async dispatch => {\n        try {\n            await boardService.remove(boardId)\n            dispatch({ type: 'REMOVE_BOARD', boardId })\n        } catch (err) {\n            console.log('BoardActions: err in removeBoard', err)\n        }\n    }\n}\n\nexport function setBoard(boardId) {\n    return async dispatch => {\n        try {\n            const board = await boardService.getById(boardId)\n            dispatch({ type: 'SET_CURR_BOARD', currBoard: board })\n        } catch (err) {\n            console.log('BoardActions: err in setBoard', err)\n        }\n    }\n}","import { httpService } from './httpService'\nconst SCORE_FOR_REVIEW = 10\n\nexport const userService = {\n    login,\n    logout,\n    signup,\n    getUsers,\n    getById,\n    remove,\n    update,\n    getLoggedinUser,\n    increaseScore\n}\n\nwindow.userService = userService\n\nfunction getUsers() {\n    return httpService.get(`user`)\n}\n\nfunction getById(userId) {\n    return httpService.get(`user/${userId}`)\n}\nfunction remove(userId) {\n    return httpService.delete(`user/${userId}`)\n}\n\nasync function update(user) {\n    user = await httpService.put(`user/${user._id}`, user)\n    if (getLoggedinUser()._id === user._id) _saveLocalUser(user)\n}\n\nasync function increaseScore(by = SCORE_FOR_REVIEW) {\n    const user = getLoggedinUser()\n    user.score = user.score + by || by\n    await update(user)\n    return user.score\n}\n\nasync function login(userCred) {\n    const user = await httpService.post('auth/login', userCred)\n    if (user) return _saveLocalUser(user)\n}\nasync function signup(userCred) {\n    const user = await httpService.post('auth/signup', userCred)\n    return _saveLocalUser(user)\n}\nasync function logout() {\n    sessionStorage.clear()\n    return await httpService.post('auth/logout')\n}\nfunction _saveLocalUser(user) {\n    sessionStorage.setItem('loggedinUser', JSON.stringify(user))\n    return user\n}\n\nfunction getLoggedinUser() {\n    return JSON.parse(sessionStorage.getItem('loggedinUser'))\n}\n\n","import { userService } from '../../services/userService'\n\nexport function loadUsers() {\n  return async dispatch => {\n    try {\n      dispatch({ type: 'LOADING_START' })\n      const users = await userService.getUsers()\n      dispatch({ type: 'SET_USERS', users })\n    } catch (err) {\n      console.log('UserActions: err in loadUsers', err)\n    } finally {\n      dispatch({ type: 'LOADING_DONE' })\n    }\n  }\n}\n\nexport function removeUser(userId) {\n  return async dispatch => {\n    try {\n      await userService.remove(userId)\n      dispatch({ type: 'REMOVE_USER', userId })\n    } catch (err) {\n      console.log('UserActions: err in removeUser', err)\n    }\n  }\n}\n\n\nexport function login(userCreds) {\n  return async dispatch => {\n    try {\n      const user = await userService.login(userCreds)\n      dispatch({ type: 'SET_USER', user })\n    } catch (err) {\n      console.log('UserActions: err in login', err)\n    }\n  }\n}\nexport function signup(userCreds) {\n  return async dispatch => {\n    try {\n      const user = await userService.signup(userCreds)\n      dispatch({ type: 'SET_USER', user })\n    } catch (err) {\n      console.log('UserActions: err in signup', err)\n    }\n  }\n}\nexport function logout() {\n  return async dispatch => {\n    try {\n      await userService.logout()\n      dispatch({ type: 'SET_USER', user: null })\n    } catch (err) {\n      console.log('UserActions: err in logout', err)\n    }\n  }\n}\n","\nexport function DeleteBoardConfirm({ onToggleDelete, board, onRemoveBoard }) {\n    function divClick(ev) {\n        ev.stopPropagation()\n        ev.preventDefault()\n    }\n    return (\n        <div onClick={onToggleDelete} className='delete-board-window'>\n            <div onClick={(ev) => divClick(ev)} className='delete-board-container'>\n                <div className='delete-board-header'>\n                    <div className='title'>Do you want to remove board: <span>\"{board.title}\"</span>?</div>\n                </div>\n                <div className='delete-board-controls'>\n                    <button className='delete-board-btn' onClick={(ev) => onRemoveBoard(board._id, ev)}>Delete</button>\n                    <button className='cancel-delete-board-btn' onClick={onToggleDelete}>cancel</button>\n                </div>\n            </div>\n        </div>\n    )\n}","import { Link } from 'react-router-dom'\nimport React from 'react';\nimport { connect } from 'react-redux'\nimport { removeBoard } from '.././store/actions/boardActions.js'\nimport { DeleteBoardConfirm } from './DeleteBoardConfirm.jsx'\nimport DeleteIcon from '@material-ui/icons/Delete';\nclass _BoardPreview extends React.Component {\n\n    state = {\n        isDeleteBoardOpen: false\n    }\n\n    onToggleDelete = (ev) => {\n        ev.preventDefault()\n        this.setState({ isDeleteBoardOpen: !this.state.isDeleteBoardOpen })\n    }\n    onRemoveBoard = (boardId, ev) => {\n        ev.preventDefault()\n        this.props.removeBoard(boardId)\n    }\n\n    render() {\n        const { board } = this.props\n        const { isDeleteBoardOpen } = this.state\n        const img = board.style?.imgUrl\n        const clr = board.style?.bgColor\n        return (\n            <Link to={`/board/${board._id}`} key={board._id} style={{ textDecoration: 'none' }}>\n                <div key={board._id} className=\"board-preview\" style={(img) ? { backgroundImage: `url(${img})` } : { backgroundColor: clr }}>\n                    <h3>{board.title}</h3>\n                    <button className=\"delete-button\" onClick={this.onToggleDelete}><DeleteIcon className='delete-board-svg' /> Delete</button>\n                    {isDeleteBoardOpen &&\n                        <DeleteBoardConfirm onToggleDelete={this.onToggleDelete} board={board} onRemoveBoard={this.onRemoveBoard} />\n                    }\n                </div>\n            </Link>\n        )\n    }\n}\n\n\nconst mapDispatchToProps = {\n    removeBoard\n}\n\n\nexport const BoardPreview = connect(null, mapDispatchToProps)(_BoardPreview)\n","import React from 'react';\nimport { connect } from 'react-redux'\nimport { saveBoard } from '../store/actions/boardActions.js'\nimport Plus from '../assets/imgs/plus.png'\n\nclass _BoardCreate extends React.Component {\n\n    state = {\n        isCreateHidden: true,\n        board: {\n            title: '',\n            style: {\n                imgUrl: '',\n                bgColor: ''\n            }\n        }\n    }\n\n    toggleModalVisibility = (boolean) => {\n        this.setState({ isCreateHidden: boolean })\n    }\n\n    handleChange = (ev) => {\n        this.setState({ board: { ...this.state.board, [ev.target.name]: ev.target.value } })\n    }\n\n    handleBackground = (ev) =>{\n        const style = {imgUrl: ev.target.src, bgColor: ev.target.style.backgroundColor}\n        this.setState({ board: { ...this.state.board, style}})\n    }\n\n    onCreateBoard = (ev) => {\n\n        ev.preventDefault()\n        if (!this.state.board.title) return\n        this.props.saveBoard(this.state.board)\n        this.setState({isCreateHidden: true, board: { title: '', style: {imgUrl: '', bgColor: ''}}})\n    }\n\n    render() {\n\n        const { isCreateHidden } = this.state\n\n        return (\n            <div>\n                <div className=\"board-create\" onClick={() => { this.toggleModalVisibility(false) }}>\n                    <img className=\"plus-icon\" alt = \"\" src={Plus} />\n                </div>\n                {!isCreateHidden && \n                <form className=\"create-board\" hidden={this.state.isCreateHidden} onSubmit={this.onCreateBoard} autoComplete=\"off\">\n                <h1 className=\"create-board-title\">Create New Board</h1>\n                    <input autoComplete='off' type=\"text\" name=\"title\" placeholder=\"Enter Board Name...\" onChange={this.handleChange} value={this.state.board.title}></input>\n                    <div className=\"board-background-options\">\n                        <div className=\"board-background-thumb\" onClick={this.handleBackground} style={{backgroundColor: '#60be50'}}></div>\n                        <div className=\"board-background-thumb\" onClick={this.handleBackground}><img   src=\"https://bit.ly/3yLM7uN\" alt=\"\"/></div>\n                        <div className=\"board-background-thumb\" onClick={this.handleBackground} style={{backgroundColor: '#0279bf'}}></div>\n                        <div className=\"board-background-thumb\" onClick={this.handleBackground}><img src=\"https://bit.ly/3uVKA2j\" alt=\"\"/></div>\n                        <div className=\"board-background-thumb\" onClick={this.handleBackground} style={{backgroundColor: '#ff9f1a'}}></div>\n                        <div className=\"board-background-thumb\" onClick={this.handleBackground}><img src=\"https://bit.ly/3i3i4c9\" alt=\"\"/></div>\n                        <div className=\"board-background-thumb\" onClick={this.handleBackground} style={{backgroundColor: '#eb5a46'}}></div>\n                        <div className=\"board-background-thumb\" onClick={this.handleBackground}><img src=\"https://bit.ly/3c574Hw\" alt=\"\"/></div>\n                        <div className=\"board-background-thumb\" onClick={this.handleBackground}><img src=\"https://bit.ly/3p5Xiuc\" alt=\"\"/></div>\n                    </div>\n                    <button>Create</button>\n                    <button onClick={() => { this.toggleModalVisibility(true) }}>Cancel</button>\n                </form>\n    }\n\n            </div>\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        boards: state.boardModule.boards\n    }\n}\nconst mapDispatchToProps = {\n    saveBoard\n}\n\n\nexport const BoardCreate = connect(mapStateToProps, mapDispatchToProps)(_BoardCreate)","export default \"data:image/png;base64,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\"","import { BoardPreview } from './BoardPreview'\nimport { BoardCreate } from './BoardCreate'\n\nexport function BoardList({ boards }) {\n    return (\n        <section className=\"board-list\">\n\n            <div className=\"new-board\">\n                <BoardCreate />\n            </div>\n\n            {boards.map(board => <div key={board._id}><BoardPreview board={board} /></div>)}\n\n        </section>\n    )\n}","export default __webpack_public_path__ + \"static/media/loading.c7d9f081.gif\";","import React from 'react';\nimport { connect } from 'react-redux'\nimport { loadBoards, saveBoard } from '../store/actions/boardActions.js'\nimport { loadUsers } from '../store/actions/userActions.js'\nimport { BoardList } from '../cmps/BoardList'\nimport loading from '../assets/imgs/loading.gif'\n\nclass _BoardPage extends React.Component {\n\n    state = {\n        isCreateHidden: true,\n        board: {\n            \"title\": '',\n            \"bgColor\": '#000'\n        }\n    }\n\n    componentDidMount() {\n        this.props.loadBoards()\n        this.props.loadUsers()\n    }\n\n    toggleModalVisibility = (boolean) => {\n        this.setState({isCreateHidden : boolean})\n    }\n\n    handleChange = (ev) => {\n        this.setState({ board: { ...this.state.board, [ev.target.name]: ev.target.value } })\n    }\n\n    onCreateBoard = (ev) => {\n        ev.preventDefault()\n        this.props.saveBoard(this.state.board)\n        this.setState({ isCreateHidden: true })\n    }\n\n    render() {\n        const { boards } = this.props\n        const { users } = this.props\n        if (!boards) return (\n            <div className=\"loading\">\n                <img className='loading-img' src={loading} />\n            </div>\n            )\n        return (\n            <section className=\"board-page\">\n                <h1>Your Boards</h1>\n                <BoardList boards={boards}/>\n            </section>\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        boards: state.boardModule.boards,\n        users: state.userModule.users\n    }\n}\nconst mapDispatchToProps = {\n    loadBoards,\n    saveBoard,\n    loadUsers\n}\n\n\nexport const BoardPage = connect(mapStateToProps, mapDispatchToProps)(_BoardPage)","import { utilService } from './utilService.js'\n\nexport const taskService = {\n    getPreview,\n    getDatePreview,\n    addTask,\n    updateTask,\n    deleteTask,\n    getTaskById,\n    addLabel,\n    onRemoveLabel,\n    checkLabel,\n    toggleTaskMember,\n    addComment,\n    setTaskDate,\n    getTimeStemp,\n}\n\nfunction getPreview(checklists) {\n    var todosSum = 0\n    var doneTodosSum = 0\n    checklists?.forEach(checklist => {\n        const currTodosSum = checklist?.todos.length || 0\n        var currDoneTodosSum = checklist?.todos.filter(todo => todo.isDone).length\n        currDoneTodosSum = (!currDoneTodosSum) ? 0 : currDoneTodosSum\n        todosSum += currTodosSum\n        doneTodosSum += currDoneTodosSum\n    })\n    return `${doneTodosSum}/${todosSum}`\n}\n\nfunction getDatePreview(currDate) {\n    const month = currDate.substring(5, 7)\n    const monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\n        \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\n    ];\n    const monthName = monthNames[month - 1].substring(0, 3)\n    const day = +currDate.substring(8, 10)\n    return `${monthName} ${day}`\n\n}\n\nfunction setTaskDate(task, date) {\n    task.dueDate = {\n        date,\n        complete: false\n    }\n}\n\nfunction addTask(board, groupId, newTitle, loggedInUser) {\n    const groupIdx = board.groups.findIndex(group => group.id === groupId)\n    if (!board.groups[groupIdx].tasks) board.groups[groupIdx].tasks = []\n    const newTask = {\n        id: 'c' + utilService.makeId(),\n        title: newTitle,\n        style: {\n            imgUrl: '',\n            bgColor: ''\n        },\n        byMember: loggedInUser,\n        comments: [],\n        attachments: []\n    }\n    board.groups[groupIdx].tasks = [...board.groups[groupIdx].tasks, newTask]\n    return newTask\n}\n\nfunction addComment(task, txt, comment) {\n    var commentIdx = -1\n    if (!task.comments) task.comments = [];\n    commentIdx = task.comments?.findIndex(taskcomment => taskcomment?.id === comment?.id)\n    if (commentIdx >= 0) {\n        task.comments.splice(commentIdx, 1)\n    } else {\n        const comment = {\n            \"id\": \"ZdPnm\",\n            \"txt\": txt,\n            \"createdAt\": utilService.makeId(),\n            \"byMember\": {\n                \"_id\": \"u101\",\n                \"fullname\": \"Tal Tarablus\",\n                \"imgUrl\": \"http://res.cloudinary.com/shaishar9/image/upload/v1590850482/j1glw3c9jsoz2py0miol.jpg\"\n            }\n        }\n        task.comments.push(comment)\n    }\n}\n\nfunction updateTask(board, groupId, updatedTask) {\n    const groupIdx = board.groups.findIndex(group => group.id === groupId)\n    const updatedTaskId = board.groups[groupIdx].tasks.findIndex(task => task.id === updatedTask.id)\n    board.groups[groupIdx].tasks.splice(updatedTaskId, 1, updatedTask)\n}\n\nfunction deleteTask(board, groupId, taskId) {\n    const groupIdx = board.groups.findIndex(group => group.id === groupId)\n    const taskIdx = board.groups[groupIdx].tasks.findIndex(task => task.id === taskId)\n    board.groups[groupIdx].tasks.splice(taskIdx, 1)\n}\n\nfunction getTaskById(taskId, groupId, board) {\n    const groupIdx = board.groups.findIndex(group => group.id === groupId)\n    const task = board.groups[groupIdx].tasks.find(task => task.id === taskId)\n    return task\n}\n\nfunction addLabel(board, groupId, taskId, labelId) {\n    const fitLabelId = labelId.substring(1, labelId.length)\n    const groupIdx = board.groups.findIndex(group => group.id === groupId)\n    const TaskIdx = board.groups[groupIdx].tasks.findIndex(task => task.id === taskId)\n    let labelIds = board.groups[groupIdx].tasks[TaskIdx].labelIds\n    if (!labelIds) return board.groups[groupIdx].tasks[TaskIdx].labelIds = [fitLabelId]\n    labelIds.push(fitLabelId)\n}\n\nfunction onRemoveLabel(board, groupId, taskId, labelId) {\n    const fitLabelId = labelId.substring(1, labelId.length)\n    const groupIdx = board.groups.findIndex(group => group.id === groupId)\n    const TaskIdx = board.groups[groupIdx].tasks.findIndex(task => task.id === taskId)\n    let labelIds = board.groups[groupIdx].tasks[TaskIdx].labelIds\n    const labelIdx = labelIds.findIndex(currLabelId => currLabelId === fitLabelId)\n    labelIds.splice(labelIdx, 1)\n}\n\nfunction checkLabel(board, groupId, taskId, labelId) {\n    const fitLabelId = labelId.substring(1, labelId.length)\n    const groupIdx = board.groups.findIndex(group => group.id === groupId)\n    const TaskIdx = board.groups[groupIdx].tasks.findIndex(task => task.id === taskId)\n    let labelIds = board.groups[groupIdx].tasks[TaskIdx].labelIds\n    if (!labelIds) return false\n    const labelIdx = labelIds.findIndex(currLabelId => currLabelId === fitLabelId)\n    if (labelIdx === -1) return false\n    return true\n}\n\nfunction toggleTaskMember(task, member) {\n    var memberIdx = -1\n    memberIdx = task.members?.findIndex(taskMember => taskMember._id === member._id)\n    if (memberIdx >= 0) {\n        task.members.splice(memberIdx, 1)\n    } else {\n        if (!task.members) task.members = []\n        task.members.push(member)\n    }\n}\n\nfunction getTimeStemp(){\n    const event = new Date();\n    const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };\n    return event.toLocaleDateString('en-US', options)\n}\n","import React from 'react'\n\nexport function LabelPreview({ lable, isLabelsOpen, from }) {\n\n    return (\n        <div className={`label ${isLabelsOpen ? 'open' : ''}`} style={{ backgroundColor: lable.color }}>\n            {isLabelsOpen || from === 'details' ? lable.title : ''}\n        </div>\n    )\n\n}\n\n","import { Component } from 'react';\n\nimport React from 'react'\n\nexport class LabelEdit extends Component {\n\n    state = {\n        currLabel: null,\n        label: {\n            title: '',\n            color: ''\n        }\n    }\n    componentDidMount() {\n        this.setState({ currLabel: this.props.currLabel })\n    }\n    onSaveLabel = (ev) => {\n        ev.preventDefault()\n        const currLabel = this.state.currLabel\n        if (currLabel) {\n            this.props.toggleEditLabel()\n            return this.props.updateLabel(currLabel, this.state.label)\n\n        }\n        this.props.toggleEditLabel()\n        this.props.addLabelToBoard(this.state.label)\n    }\n    handleChange = (ev) => {\n        ev.preventDefault()\n        const value = ev.target.value;\n        const key = ev.target.name;\n        this.setState({ label: { [key]: value } });\n    }\n    setLabelColor = (color) => {\n        this.setState({ label: { ...this.state.label, color } })\n    }\n    render() {\n        const { currLabel } = this.state\n        const { toggleEditLabel } = this.props\n        return (\n            <div className='edit-label-container'>\n                <div className='edit-label-header'>\n                    <div className='title'>{(currLabel) ? 'Edit Label' : 'Create Label'}</div>\n                    <button className='close-edit-label-btn' onClick={toggleEditLabel}>X</button>\n                </div>\n                <form className='edit-label-form'>\n                    <label >Name</label>\n                    <input autoComplete='off' type=\"text\" name='title' onChange={this.handleChange} placeholder={(currLabel) ? currLabel.title : 'Add label title...'} />\n                    <label >Select a color</label>\n                    <div className='edit-label-colors-pick'>\n                        <div onClick={() => this.setLabelColor('#f1d600')} style={{ backgroundColor: '#f1d600' }} className='color #f1d600'></div>\n                        <div onClick={() => this.setLabelColor('#ff9f1a')} style={{ backgroundColor: '#ff9f1a' }} className='color #ff9f1a'></div>\n                        <div onClick={() => this.setLabelColor('#eb5a46')} style={{ backgroundColor: '#eb5a46' }} className='color #eb5a46'></div>\n                        <div onClick={() => this.setLabelColor('#c377e0')} style={{ backgroundColor: '#c377e0' }} className='color #c377e0'></div>\n                        <div onClick={() => this.setLabelColor('#0279bf')} style={{ backgroundColor: '#0279bf' }} className='color #0279bf'></div>\n                        <div onClick={() => this.setLabelColor('#00c2e0')} style={{ backgroundColor: '#00c2e0' }} className='color #00c2e0'></div>\n                        <div onClick={() => this.setLabelColor('#60be50')} style={{ backgroundColor: '#60be50' }} className='color #60be50'></div>\n                        <div onClick={() => this.setLabelColor('#50e898')} style={{ backgroundColor: '#50e898' }} className='color #50e898'></div>\n                        <div onClick={() => this.setLabelColor('#fe78cb')} style={{ backgroundColor: '#fe78cb' }} className='color #fe78cb'></div>\n                        <div onClick={() => this.setLabelColor('#344563')} style={{ backgroundColor: '#344563' }} className='color #344563'></div>\n                        <div onClick={() => this.setLabelColor('#b3bac5')} style={{ backgroundColor: '#b3bac5' }} className='color #b3bac5'></div>\n                    </div>\n                    <div className='edit-label-controls'>\n                        <button onClick={this.onSaveLabel} className='confirm-btn'>{(currLabel) ? 'Update' : 'Create'}</button>\n                        {(currLabel)&&\n                            <button className='delete-btn'>Delete</button>\n                        }\n\n                    </div>\n                </form>\n            </div>\n        )\n    }\n\n\n\n}\n\n","import { Component } from 'react';\nimport { LabelEdit } from './LabelEdit.jsx'\nimport DoneOutlinedIcon from '@material-ui/icons/DoneOutlined';\nimport EditOutlinedIcon from '@material-ui/icons/EditOutlined';\nimport React from 'react'\n\nexport class LabelsList extends Component {\n\n    state = {\n        isEditLabelOpen: false,\n        currLabel: null\n    }\n    onLabelToggle = (taskId, labelId) => {\n        if (this.props.checkLabel(taskId, labelId)) {\n            return this.props.onRemoveLabel(taskId, labelId)\n        }\n        this.props.onAddLabel(taskId, labelId)\n    }\n\n    toggleEditLabel = (label = null) => {\n        this.setState({ isEditLabelOpen: !this.state.isEditLabelOpen })\n        this.setState({ currLabel: label })\n    }\n    checkIfLabelInTask = (currLabelId) => {\n        const fitLabelId = currLabelId.substring(1)\n        return this.props.task.labelIds?.some(labelId => labelId === fitLabelId)\n    }\n\n\n    render() {\n        const { isEditLabelOpen } = this.state\n        const { task, board, toggleEditLabels } = this.props\n        return (<React.Fragment>\n\n            {!isEditLabelOpen &&\n                <div className='edit-labels-container'>\n                    <div className='edit-labels-header'>\n                        <div className='title'>List Actions</div>\n                        <button className='close-edit-labels-btn' onClick={toggleEditLabels}>X</button>\n                    </div>\n                    {(board.labels) ?\n                        <div className='labels'>\n                            {board.labels.map(label => {\n                                return <div key={label.id} className='label-preview'>\n                                    <div style={{ backgroundColor: label.color }} className='label-title' onClick={() => this.onLabelToggle(task.id, label.id)}>{label.title}\n                                        {this.checkIfLabelInTask(label.id) && <DoneOutlinedIcon />}</div>\n\n                                    <button className='open-edit-label-btn' onClick={() => this.toggleEditLabel(label)}><EditOutlinedIcon /></button>\n                                </div>\n\n                            })}\n                        </div> : ''}\n                    <button className='create-label-btn' onClick={() => this.toggleEditLabel()}>+Create New Label</button>\n                </div>}\n            {isEditLabelOpen &&\n                <LabelEdit updateLabel={this.props.updateLabel} addLabelToBoard={this.props.addLabelToBoard} toggleEditLabel={this.toggleEditLabel} currLabel={this.state.currLabel} />\n            }\n        </React.Fragment>\n        )\n\n    }\n}\n\n","import { Component, React } from 'react';\nimport { Avatar } from '@material-ui/core';\nimport DoneOutlinedIcon from '@material-ui/icons/DoneOutlined';\nimport { utilService } from '../services/utilService';\n\n\n\nexport class MembersList extends Component {\n\n    state = {\n        isEditLabelOpen: false,\n        currLabel: null\n    }\n\n    checkIfMemberInTask = (name) => {\n        var patten = new RegExp(name);\n        return this.props.task.members?.some(member => {\n            return patten.test(member.fullname)\n        })\n    }\n\n    render() {\n        const { board, task, toggleEditMembers, toggleTaskMember } = this.props\n        return (\n            <div className=\"edit-members-container\">\n                <div className='edit-members-header'>\n                    <h1 className='title' >Members</h1>\n                    <button className='close-edit-members-btn' onClick={toggleEditMembers}>x</button>\n                </div>\n                {board.members && board.members.map(member => {\n                    return <div className=\"member-preview\" key={member._id} onClick={() => toggleTaskMember(task, member)}>\n                        <Avatar className=\"avatar\" key={member._id} src={member.imgUrl}>{utilService.getNameInitials(member.fullname)}</Avatar>\n                        <h4 className='member-name'>{member.fullname}</h4>\n                        {this.checkIfMemberInTask(member.fullname) && <DoneOutlinedIcon />}\n                    </div>\n                })}\n            </div>\n        )\n\n    }\n}\n\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { TextField } from '@material-ui/core';\nimport { utilService } from '../services/utilService';\n\nclass _Dates extends React.Component {\n\n    state = {\n        date: null\n    }\n\n    closeDateModal = () => {\n        if (this.props.prevPage === 'task-details') return this.props.toggleModal('isEditDateShow')\n        this.props.toggleChangeDueDate()\n\n    }\n    onChange = ({ target }) => {\n        const { value } = target\n        this.props.setDate(value)\n        if (this.props.prevPage === 'task-details') return this.props.toggleModal('isEditDateShow')\n        this.props.toggleChangeDueDate()\n    }\n\n    render() {\n        const { task } = this.props\n        return <form className='dates-form flex' noValidate>\n            <TextField className=\"dates\"\n                id=\"datetime-local\"\n                label=\"Due date\"\n                type=\"datetime-local\"\n                defaultValue={task.dueDate || utilService.convertToCreatedAtDate(new Date())}\n                onChange={this.onChange}\n                autoFocus={true}\n                InputLabelProps={{\n                    shrink: true,\n                }}\n            />\n            <button onClick={this.closeDateModal} className='cancel-change-date-btn'>cancel</button>\n        </form>\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        currBoard: state.boardModule.currBoard,\n    }\n}\n\nexport const Dates = connect(mapStateToProps)(_Dates)","import { Component } from 'react';\nimport { LabelsList } from './LabelsList.jsx'\nimport { MembersList } from './MembersList.jsx'\nimport React from 'react'\nimport { Dates } from './Dates';\nimport LabelOutlinedIcon from '@material-ui/icons/LabelOutlined';\nimport PersonOutlineOutlinedIcon from '@material-ui/icons/PersonOutlineOutlined';\nimport TodayOutlinedIcon from '@material-ui/icons/TodayOutlined';\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline';\n\nexport class TaskOptions extends Component {\n    state = {\n        isEditLabelsOpen: false,\n        isEditMembersOpen: false,\n        isEditDueDateOpen: false,\n        task: {\n            title: ''\n        }\n    }\n\n    onUpdateTask = (task) => {\n        this.props.onToggleTaskOptions()\n        const updatedTask = { ...task, title: this.state.task.title }\n        this.props.onUpdateTask(updatedTask, task)\n    }\n    handleChange = (ev) => {\n        const value = ev.target.value;\n        const key = ev.target.name;\n        this.setState({ task: { [key]: value } });\n    }\n\n    toggleEditLabels = () => {\n        this.setState({ isEditLabelsOpen: !this.state.isEditLabelsOpen })\n    }\n    toggleEditMembers = () => {\n        this.setState({ isEditMembersOpen: !this.state.isEditMembersOpen })\n    }\n    toggleChangeDueDate = () => {\n        this.setState({ isEditDueDateOpen: !this.state.isEditDueDateOpen })\n    }\n\n    preventDragHandler = (e) => {\n        e.preventDefault();\n    }\n\n\n\n    render() {\n        const { isEditLabelsOpen, isEditMembersOpen, isEditDueDateOpen } = this.state\n        const { checkLabel, updateLabel, addLabelToBoard, onRemoveLabel, onDeleteTask, onToggleTaskOptions, task, board, onAddLabel, toggleTaskMember } = this.props\n        return (\n            <React.Fragment>\n                <div onClick={onToggleTaskOptions} className='task-options-window' ></div>\n                <div className='task-options-container'>\n                    {isEditDueDateOpen &&\n                        <Dates toggleChangeDueDate={this.toggleChangeDueDate} task={task} setDate={this.props.setDate}></Dates>\n                    }\n                    <div className='change-task-title'>\n                        <textarea cols='1' rows='8' type=\"text\" className='new-title-input' placeholder={task.title} name='title' onChange={this.handleChange}></textarea>\n                        <button onClick={() => this.onUpdateTask(task)}>Save</button>\n                    </div>\n                    <div className='options-btns'>\n                        <button className='options-btn' onClick={this.toggleEditLabels} ><LabelOutlinedIcon className='svg change-task-labels' />Edit Labels</button>\n                        {isEditLabelsOpen &&\n                            <LabelsList updateLabel={updateLabel} addLabelToBoard={addLabelToBoard} checkLabel={checkLabel} onRemoveLabel={onRemoveLabel} task={task} onAddLabel={onAddLabel} toggleEditLabels={this.toggleEditLabels} board={board} />\n                        }\n                        <button className='options-btn' onClick={this.toggleEditMembers} ><PersonOutlineOutlinedIcon className='svg change-task-members' />Change Members</button>\n                        {isEditMembersOpen &&\n                            <MembersList toggleTaskMember={toggleTaskMember} board={board} task={task} toggleEditMembers={this.toggleEditMembers} />\n                        }\n                        <button className='options-btn' onClick={this.toggleChangeDueDate} ><TodayOutlinedIcon className='svg edit-task-due-date' />Change Due Date</button>\n                        <button className='options-btn' onClick={() => onDeleteTask(task)}><DeleteOutlineIcon className='svg delete-task' /> Delete</button>\n                    </div>\n\n                </div>\n            </React.Fragment >\n        )\n\n    }\n}\n\n","import { Component } from 'react';\nimport { taskService } from '../services/taskService.js'\nimport React from 'react'\nimport Avatar from '@material-ui/core/Avatar';\nimport { Link } from 'react-router-dom'\nimport { LabelPreview } from './LabelPreview.jsx'\nimport { TaskOptions } from './TaskOptions.jsx';\nimport AccessTimeOutlinedIcon from '@material-ui/icons/AccessTimeOutlined';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport CheckBoxOutlinedIcon from '@material-ui/icons/CheckBoxOutlined';\n\nexport class TaskPreview extends Component {\n\n    state = {\n        isTaskOptionsShow: false,\n        isLabelsOpen: false\n    }\n\n    getLableById = (labelId) => {\n        return this.props.board.labels.find(label => label.id === 'l' + labelId)\n    }\n\n    toggleTaskOptions = () => {\n        this.props.toggleDroppable()\n        this.setState({ isTaskOptionsShow: !this.state.isTaskOptionsShow })\n    }\n\n    toggleLabels = () => {\n        this.setState({ isLabelsOpen: !this.state.isLabelsOpen })\n    }\n\n    convertNumToDate = (deuDate) => {\n        if (!deuDate) return\n        const date = deuDate.date || deuDate;\n        const deuDatePreview = taskService.getDatePreview(date)\n        return deuDatePreview\n    }\n    getChecklistsPreview = (checklists) => {\n        const preview = taskService.getPreview(checklists)\n        return (preview)\n    }\n\n    setDate = (date) => {\n        this.props.setDate(date, this.props.task)\n    }\n\n    render() {\n        const { toggleTaskMember, checkLabel, updateLabel, addLabelToBoard, onRemoveLabel, board, group, task, onUpdateTask, onDeleteTask, onAddLabel } = this.props\n        const { isTaskOptionsShow, isLabelsOpen } = this.state\n        return (\n            <article className={`task-container`}>\n                {isTaskOptionsShow &&\n                    <TaskOptions setDate={this.setDate} toggleTaskMember={toggleTaskMember} updateLabel={updateLabel} addLabelToBoard={addLabelToBoard} checkLabel={checkLabel} onRemoveLabel={onRemoveLabel} onAddLabel={onAddLabel} board={board} onDeleteTask={onDeleteTask} onUpdateTask={onUpdateTask} task={task} onToggleTaskOptions={this.toggleTaskOptions} />}\n                {(task.style) ? (task.style.bgColor || task.style.imgUrl) ? <div className='task-cover'>\n                    {(task.style) ? (task.style.imgUrl) ? <img className='img-cover' src={task.style.imgUrl} alt=\"\" /> : <div className='bgc-cover' style={{ backgroundColor: task.style.bgColor }}></div> : ''}\n                </div> : '' : ''}\n                {(task.labelIds) ? <div className='label-list' onClick={this.toggleLabels}>\n                    {(task.labelIds) ? task.labelIds.map(labelId => {\n                        const label = this.getLableById(labelId)\n                        return <LabelPreview isLabelsOpen={isLabelsOpen} key={label.id} lable={label} />\n                    }) : ''}\n                </div> : ''}\n                <Link to={`/board/${board._id}/${group.id}/${task.id}`} className=\"link\"><h5>{task.title}</h5>\n                    {(task.dueDate || task.checklists || task.members) ? <div className='badges'>\n                        {(task.dueDate) &&\n                            <div className='dew-date flex' style={{ backgroundColor: (!task.dueDate.complete) ? '#eb5a46' : '#60be50' }}>\n                                <AccessTimeOutlinedIcon className=\"clock\"></AccessTimeOutlinedIcon>\n                                {this.convertNumToDate(task.dueDate)}\n                            </div>}\n\n                        {(task.checklists && task.checklists.legnth !== 0) ? <div className='checklists-preview'>\n                            <CheckBoxOutlinedIcon /> {this.getChecklistsPreview(task.checklists)}\n                        </div> : ''}\n                        <div className='avatars'>\n                            {(task.members) ? task.members.map(member => {\n                                return <Avatar key={member._id} className='avatar' alt={member.fullName} src={member.imgUrl} />\n                            }) : ''}\n                        </div>\n                    </div> : ''}\n                </Link>\n                <button onClick={this.toggleTaskOptions} className='task-options'><MoreHorizIcon className='task-options-svg' /></button>\n\n            </article>\n        )\n\n    }\n}\n\n","import React from 'react'\nimport { TaskPreview } from './TaskPreview.jsx'\nimport { connect, ReactReduxContext } from 'react-redux'\nimport { setBoard, loadBoards, saveBoard } from '../store/actions/boardActions.js'\nimport { Droppable, Draggable } from 'react-beautiful-dnd';\n\nclass _TaskList extends React.Component {\n\n    state = {\n        isDragDisabled: false\n    }\n    listRef = React.createRef()\n\n    componentDidUpdate() {\n        if (this.props.isScroll && this.listRef.current)\n            this.listRef.current.scrollIntoView({ behavior: 'smooth' })\n    }\n\n    render() {\n        const { toggleTaskMember, isAddTaskOpen, onToggleAddTask, handleTaskChange, onAddTask, group, newTaskTitle, isScroll } = this.props\n        const { isDragDisabled } = this.state;\n        return (\n\n            <Droppable droppableId={this.props.group.id}>\n\n                {(provided) => (\n                    <div className=\"task-list\" {...provided.droppableProps} ref={provided.innerRef}>\n                        {group.tasks && this.props.tasks.map((task, index) => {\n                            return (\n                                <Draggable isDragDisabled={this.props.isDragDisabled} key={task.id} draggableId={task.id} index={index}>\n                                    {(provided) => (\n                                        <div\n                                            {...provided.draggableProps}\n                                            {...provided.dragHandleProps}\n                                            ref={provided.innerRef}>\n                                            <TaskPreview setDate={this.props.setDate} toggleDroppable={this.props.toggleDroppable} toggleTaskMember={toggleTaskMember} updateLabel={this.props.updateLabel} addLabelToBoard={this.props.addLabelToBoard} checkLabel={this.props.checkLabel} onRemoveLabel={this.props.onRemoveLabel} onUpdateTask={this.props.onUpdateTask} onAddLabel={this.props.onAddLabel} onDeleteTask={this.props.onDeleteTask} board={this.props.board} task={task} group={this.props.group} />\n                                        </div>\n                                    )}\n                                </Draggable>\n                            )\n                        })\n                        }\n\n\n                        {isAddTaskOpen &&\n\n                            <form ref={this.listRef} className='add-task-form' onSubmit={onToggleAddTask}>\n                                <textarea  name='title' placeholder='Enter a title for this card...' className='task-title-input' cols=\"5\" rows=\"5\" onChange={handleTaskChange}></textarea>\n                                <div className='add-task-controls'>\n                                    <button className='add-task-add-btn' onClick={() => onAddTask(group, newTaskTitle)}>Add card</button>\n                                    <button className='add-task-close-btn' onClick={this.onToggleAddTask}> X </button>\n                                </div>\n                            </form>\n                        }\n                        {provided.placeholder}\n                    </div>\n                )\n                }\n            </Droppable>\n\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        currBoard: state.boardModule.currBoard,\n        boards: state.boardModule.boards,\n    }\n}\n\nconst mapDispatchToProps = {\n    setBoard,\n    loadBoards,\n    saveBoard\n}\n\nexport const TaskList = connect(mapStateToProps, mapDispatchToProps)(_TaskList)","import { Component } from 'react';\n\nimport React from 'react'\n\nexport class GroupOptions extends Component {\n\n\n    render() {\n        const { onToggleGroupOptions, onToggleAddTask, onDeleteGroup, onCopyGroup } = this.props\n        return (\n            <React.Fragment>\n\n                <div onClick={onToggleGroupOptions} className='group-options-window'></div>\n                <div className='group-options-container'>\n                    <div className='group-options-header'>\n                        <div className='title'>List Actions</div>\n                        <button className='close-group-options-btn' onClick={onToggleGroupOptions}>X</button>\n                    </div>\n                    <button onClick={onToggleAddTask}>Add Card...</button>\n                    <button onClick={onCopyGroup}>Copy List...</button>\n                    <button onClick={onDeleteGroup}>Delete List...</button>\n                </div>\n            </React.Fragment>\n        )\n\n    }\n}\n\n","import React from 'react'\nimport { TaskList } from './TaskList.jsx'\nimport { GroupOptions } from './GroupOptions.jsx'\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\n\n\nexport class Group extends React.Component {\n    state = {\n        isGroupOptionOpen: false,\n        isAddTaskOpen: false,\n        isChangeGroupNameOpen: false,\n        isScroll: false,\n        group: {\n            title: ''\n        },\n        task: {\n            title: ''\n        }\n    }\n\n    componentWillMount() {\n        document.addEventListener('mousedown', this.handleClick, false)\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('mousedown', this.handleClick, false)\n    }\n\n    handleClick = (ev) => {\n        if (this.node.contains(ev.target)) {\n            return;\n        }\n\n        this.handleClickOutside()\n    }\n\n    handleClickOutside = () => {\n        this.onChangeGroupName(this.state.group.title)\n        this.setState({ isChangeGroupNameOpen: false, isAddTaskOpen: false })\n    }\n\n    handleTaskChange = (ev) => {\n        const value = ev.target.value;\n        const key = ev.target.name;\n        this.setState({ task: { [key]: value } });\n    }\n    handleGroupChange = (ev) => {\n        const value = ev.target.value;\n        const key = ev.target.name;\n        this.setState({ group: { [key]: value } });\n    }\n\n    onToggleAddTask = () => {\n        this.props.toggleDroppable()\n        this.setState({ isScroll: !this.state.isScroll})\n        this.setState({ isGroupOptionOpen: false })\n        this.setState({ isAddTaskOpen: !this.state.isAddTaskOpen })\n    }\n\n    onToggleGroupOptions = () => {\n        this.props.toggleDroppable()\n        this.setState({ isAddTaskOpen: false })\n        this.setState({ isGroupOptionOpen: !this.state.isGroupOptionOpen })\n    }\n\n    onDeleteGroup = () => {\n        this.onToggleGroupOptions()\n        this.props.onDeleteGroup(this.props.group)\n\n    }\n    onCopyGroup = () => {\n        this.onToggleGroupOptions()\n        this.props.onCopyGroup(this.props.group)\n\n    }\n    onUpdateTask = (updatedTask, task) => {\n        this.props.onUpdateTask(this.props.group, updatedTask, task)\n\n    }\n    toggleChangeGroupName = () => {\n        this.setState({ isChangeGroupNameOpen: !this.state.isChangeGroupNameOpen })\n    }\n    onDeleteTask = (task) => {\n        this.props.onDeleteTask(this.props.group, task)\n\n    }\n\n    onAddLabel = (taskId, labelId) => {\n        this.props.onAddLabel(this.props.group.id, taskId, labelId)\n    }\n    checkLabel = (taskId, labelId) => {\n        return this.props.checkLabel(this.props.group.id, taskId, labelId)\n    }\n    onRemoveLabel = (taskId, labelId) => {\n        this.props.onRemoveLabel(this.props.group.id, taskId, labelId)\n    }\n\n    onChangeGroupName = (newGroupTitle) => {\n        this.toggleChangeGroupName()\n        this.props.changeGroupName(newGroupTitle, this.props.group)\n    }\n    render() {\n\n        const { group, board, onAddTask, updateLabel, addLabelToBoard, toggleTaskMember } = this.props\n        const newTaskTitle = this.state.task.title\n        const newGroupTitle = this.state.group.title\n        const { isAddTaskOpen, isGroupOptionOpen, isChangeGroupNameOpen,isScroll } = this.state\n\n        return (\n            <div ref={node => { this.node = node }} className=\"group-container\">\n                <div className=\"group\">\n                    <div className='header'>\n                        {!isChangeGroupNameOpen &&\n                            <div className='title' onClick={this.toggleChangeGroupName}>{group.title}</div>}\n                        {isChangeGroupNameOpen &&\n                            <form onSubmit={() => this.onChangeGroupName(newGroupTitle)}>\n                                <input autoComplete='off' onChange={this.handleGroupChange} type=\"text\" name='title' defaultValue={group.title} />\n                            </form>}\n\n                        <button className='options' onClick={this.onToggleGroupOptions}>{<MoreHorizIcon className='group-options-svg' />}</button>\n                    </div>\n\n                    <TaskList isScroll={isScroll} isAddTaskOpen={isAddTaskOpen} onToggleAddTask={this.onToggleAddTask} handleTaskChange={this.handleTaskChange} onAddTask={onAddTask} group={group} newTaskTitle={newTaskTitle} setDate={this.props.setDate} isDragDisabled={this.props.isDragDisabled} toggleDroppable={this.props.toggleDroppable} toggleTaskMember={toggleTaskMember} updateLabel={updateLabel} addLabelToBoard={addLabelToBoard} checkLabel={this.checkLabel} onRemoveLabel={this.onRemoveLabel} board={board} onAddLabel={this.onAddLabel} onDeleteTask={this.onDeleteTask} onUpdateTask={this.onUpdateTask} tasks={group.tasks} group={group} />\n                    {!isAddTaskOpen &&\n                        <button className='add-task-toggle-btn' onClick={this.onToggleAddTask}>+ Add another card</button>}\n                    {isGroupOptionOpen &&\n                        <GroupOptions onToggleGroupOptions={this.onToggleGroupOptions} onCopyGroup={this.onCopyGroup} onDeleteGroup={this.onDeleteGroup} group={group} onToggleAddTask={this.onToggleAddTask} />}\n                </div>\n            </div>\n        )\n    }\n\n}","import React from 'react'\nexport function BgPicksList({ bgPicks, onChangeBg }) {\n    const pick = bgPicks\n    return (\n        <div className='picks'>\n            <div className='pick 1' onClick={() => onChangeBg(pick, 'https://bit.ly/3yLM7uN', '#61bd4f')} style={(pick === 'photos') ? { backgroundImage: `url('https://bit.ly/3yLM7uN')` } : { backgroundColor: '#61bd4f' }}></div >\n            <div className='pick 2' onClick={() => onChangeBg(pick, 'https://cdn.shopify.com/s/files/1/0257/6718/2416/files/Party-Background-green-with-presents.jpg?v=1595051600', '#f2d600')} style={(pick === 'photos') ? { backgroundImage: `url(https://cdn.shopify.com/s/files/1/0257/6718/2416/files/Party-Background-green-with-presents.jpg?v=1595051600)` } : { backgroundColor: '#f2d600' }}></div >\n            <div className='pick 3' onClick={() => onChangeBg(pick, 'https://bit.ly/2Rhir82', '#ff9f1a')} style={(pick === 'photos') ? { backgroundImage: `url(https://bit.ly/2Rhir82)` } : { backgroundColor: '#ff9f1a' }}></div >\n            <div className='pick 4' onClick={() => onChangeBg(pick, 'https://bit.ly/2S5SicM', '#eb5a46')} style={(pick === 'photos') ? { backgroundImage: `url(https://bit.ly/2S5SicM)` } : { backgroundColor: '#eb5a46' }}></div >\n            <div className='pick 5' onClick={() => onChangeBg(pick, 'https://bit.ly/3ifWH7t', '#c377e0')} style={(pick === 'photos') ? { backgroundImage: `url(https://bit.ly/3ifWH7t)` } : { backgroundColor: '#c377e0' }}></div >\n            <div className='pick 6' onClick={() => onChangeBg(pick, 'https://bit.ly/3cb6doI', '#0079bf')} style={(pick === 'photos') ? { backgroundImage: `url(https://bit.ly/3cb6doI)` } : { backgroundColor: '#0079bf' }}></div >\n            <div className='pick 7' onClick={() => onChangeBg(pick, 'https://bit.ly/3uOBV1o', '#00c2e0')} style={(pick === 'photos') ? { backgroundImage: `url(https://bit.ly/3uOBV1o)` } : { backgroundColor: '#00c2e0' }}></div >\n            <div className='pick 8' onClick={() => onChangeBg(pick, 'https://bit.ly/3uMTS0u', '#51e898')} style={(pick === 'photos') ? { backgroundImage: `url(https://bit.ly/3uMTS0u)` } : { backgroundColor: '#51e898' }}></div >\n            <div className='pick 9' onClick={() => onChangeBg(pick, 'https://bit.ly/3idR4GZ', '#ff78cb')} style={(pick === 'photos') ? { backgroundImage: `url(https://bit.ly/3idR4GZ)` } : { backgroundColor: '#ff78cb' }}></div >\n            <div className='pick 10' onClick={() => onChangeBg(pick, 'https://bit.ly/34GK1Pl', '#344563')} style={(pick === 'photos') ? { backgroundImage: `url(https://bit.ly/34GK1Pl)` } : { backgroundColor: '#344563' }}></div >\n            <div className='pick 11' onClick={() => onChangeBg(pick, 'https://bit.ly/3irFJU7', '#b3bac5')} style={(pick === 'photos') ? { backgroundImage: `url(https://bit.ly/3irFJU7)` } : { backgroundColor: '#b3bac5' }}></div >\n            <div className='pick 12' onClick={() => onChangeBg(pick, 'https://bit.ly/34L6DOp', '#ffffff')} style={(pick === 'photos') ? { backgroundImage: `url(https://bit.ly/34L6DOp)` } : {\n                backgroundColor: '#ffffff',\n                border: '0.5px solid black'\n            }}></div >\n\n        </div>\n\n    )\n}","import React from 'react'\nimport Avatar from '@material-ui/core/Avatar';\nimport { BgPicksList } from './BgPicksList.jsx'\n\nexport class SideBar extends React.Component {\n    state = {\n        isChangeBgOpen: false,\n        isBgPickOpen: false,\n        bgPicks: ''\n    }\n\n    onToggleChangeBg = () => {\n        this.setState({ isChangeBgOpen: !this.state.isChangeBgOpen })\n    }\n    onTogglePickBg = (picks) => {\n        this.setState({ bgPicks: picks })\n        this.setState({ isBgPickOpen: !this.state.isBgPickOpen })\n    }\n    render() {\n        const { isChangeBgOpen, isBgPickOpen, bgPicks } = this.state\n        const { onToggleSideBar, board, getDatePreview, onChangeBg } = this.props\n        return (\n            <React.Fragment>\n\n                <div onClick={onToggleSideBar} className='side-bar-window'></div>\n                <div className=\"side-bar\">\n                    <div className='side-bar-header'>\n                        {isChangeBgOpen && !isBgPickOpen &&\n                            <button className='close-change-bg-btn' onClick={this.onToggleChangeBg}>back</button>\n                        }\n                        {isChangeBgOpen && isBgPickOpen &&\n                            <button className='close-change-bg-btn' onClick={this.onTogglePickBg}>back</button>\n                        }\n                        <div className='title'>Menu</div>\n                        <button className='close-side-bar-btn' onClick={onToggleSideBar}>X</button>\n                    </div>\n                    {!isChangeBgOpen &&\n                        <div className='side-bar-main'>\n\n                            <div className='change-bg-btn-container'>\n                                < button onClick={this.onToggleChangeBg} className='change-bg-btn'>Change Background</button>\n                            </div>\n                            <h3 className='activities-title'>Activity</h3>\n                            <div className='activities-list'>\n                                {(board.activities || board.activities.legnth) ? board.activities.map(activity => {\n\n                                    return <div key={activity.id} className='activity-preview'>\n\n                                        <Avatar className='avatar' alt={activity.byMember.fullname} src={activity.byMember.imgUrl} />\n                                        <div className='activity-txt'>{(!activity.group) ? `${activity.byMember.fullname}: ${activity.txt}` : (activity.task && activity.task.title) ? `${activity.byMember.fullname}: ${activity.txt} \"${activity.task.title}\" in list: \"${activity.group.title}\"` : `${activity.byMember.fullname}: ${activity.txt} \"${activity.group.title}\"`}\n                                            <div className='at'>{getDatePreview(activity.createdAt)}</div>\n                                        </div>\n                                    </div>\n                                }) : ''}\n                            </div>\n                        </div>\n                    }\n                    {isChangeBgOpen && !isBgPickOpen &&\n                        <div className='change-bg-options'>\n                            <div className='photos-option'>\n                                <div onClick={() => this.onTogglePickBg('photos')} className='photos-btn'></div>\n                                <div className='title'>Photos</div>\n                            </div>\n                            <div className='colors-option'>\n                                <div onClick={() => this.onTogglePickBg('colors')} className='colors-btn'></div>\n                                <div className='title'>colors</div>\n                            </div>\n                        </div>\n                    }\n                    {isBgPickOpen &&\n                        <BgPicksList onChangeBg={onChangeBg} bgPicks={bgPicks} isBgPickOpen={isBgPickOpen} />}\n\n                </div>\n\n            </React.Fragment >\n\n\n        )\n    }\n}","import { utilService } from './utilService.js'\n\nexport const groupService = {\n    deleteGroup,\n    copyGroup,\n    addGroup,\n    changeGroupName\n}\n\n\n\n\nfunction addGroup(board, newTitle) {\n    const newGroup = {\n        id: 'g' + utilService.makeId(),\n        title: newTitle,\n    }\n    board.groups = [...board.groups, newGroup]\n    return newGroup\n}\n\nfunction deleteGroup(board, groupId) {\n    const groupIdx = board.groups.findIndex(group => group.id === groupId)\n    board.groups.splice(groupIdx, 1)\n}\n\nfunction copyGroup(board, group) {\n    const groupCopy = { ...group, id: utilService.makeId() }\n    const groupIdx = board.groups.findIndex(currGroup => group.id === currGroup.id)\n    board.groups.splice(groupIdx, 0, groupCopy)\n}\n\nfunction changeGroupName(newGroupTitle, group) {\n    if (!newGroupTitle) return\n    group.title = newGroupTitle\n}\n","import { utilService } from \"./utilService\"\n\nexport const labelService = {\n    updateLabel,\n    addLabelToBoard\n}\n\n\nfunction updateLabel(board, currLabel, labelUpdates) {\n    const currLabelIdx = board.labels.findIndex(label => {\n        return label.id === currLabel.id\n    })\n    labelUpdates = { ...labelUpdates, id: currLabel.id }\n    if (!labelUpdates.title) labelUpdates = { ...labelUpdates, title: currLabel.title }\n    if (!labelUpdates.color) labelUpdates = { ...labelUpdates, color: currLabel.color }\n    board.labels.splice(currLabelIdx, 1, labelUpdates)\n}\nfunction addLabelToBoard(board, newLabel) {\n    if (!newLabel.color) newLabel = { ...newLabel, color: '#b3bac5' }\n    newLabel = { ...newLabel, id: 'l' + utilService.makeId() }\n    board.labels.push(newLabel)\n}\n","import CheckBoxOutlinedIcon from '@material-ui/icons/CheckBoxOutlined';\nimport { Checkbox } from '@material-ui/core';\nimport { Component } from 'react';\nimport { utilService } from '../services/utilService'\nimport React from 'react'\nimport loading from '../assets/imgs/loading.gif'\n\nexport class Checklist extends Component {\n\n    state = {\n        checklists: null\n    }\n\n    componentDidMount() {\n        const { checklists } = this.props\n        this.setState({ checklists })\n    }\n\n    toggleComplete = (checklistIdx, todoIdx) => {\n        const { checklists } = this.state;\n        checklists[checklistIdx].todos[todoIdx].isDone = !checklists[checklistIdx].todos[todoIdx].isDone\n        this.setState({ ...this.state, checklists }, () => {\n            this.props.updateChecklist(this.state.checklists)\n        })\n    }\n\n    handleChange = (ev, checklistIdx, todoIdx) => {\n        let { name, value } = ev.target;\n        const { checklists } = this.state;\n        checklists[checklistIdx].todos[todoIdx][name] = value;\n        this.setState({ ...this.state, checklists }, () => {\n            this.props.updateChecklist(this.state.checklists)\n        })\n    }\n\n    addTodo = (checklistIdx) => {\n        const { checklists } = this.state;\n        checklists[checklistIdx].todos.push({ id: utilService.makeId(), title: '', isDone: false })\n        this.setState({ ...this.state, checklists }, () => {\n            this.props.updateChecklist(this.state.checklists)\n        })\n    }\n\n    removeTodo = (checklistIdx) => {\n        const { checklists } = this.state;\n        checklists.splice(checklistIdx, 1);\n        this.setState({ ...this.state, checklists }, () => {\n            this.props.updateChecklist(this.state.checklists)\n        })\n    }\n\n    render() {\n        const { checklists } = this.state\n        if (!checklists) return (\n            <div className=\"loading\">\n                <img className='loading-img' src={loading} />\n            </div>\n            )\n        return <div className='checklists'>\n            <div className=\"checklist flex column\">\n                {checklists.map((checklist, checklistIdx) => {\n                    return <div className='todos flex column' key={checklist}>\n                        <div className=\"flex container\">\n                            <div className=\"flex title\">\n                                <CheckBoxOutlinedIcon className=\"icon\" color=\"disabled\" />\n                                <h3 className=\"title\">{checklist.title || 'Checklists'}</h3>\n                            </div>\n                            <button onClick={() => this.removeTodo(checklistIdx)}>Delete</button>\n                        </div>\n                        {checklist.todos.map((todo, todoIdx) => {\n                            return <div className='todo flex' key={checklist}>\n                                <Checkbox className=\"checkbox\"\n                                    onChange={() => this.toggleComplete(checklistIdx, todoIdx)}\n                                    checked={todo.isDone}\n                                    cols=\"30\"\n                                    rows=\"5\"\n                                    wrap=\"off\"\n                                    color=\"uncontrolled\" />\n                                <input  className=\"title-input\" placeholder='Add an item' defaultValue={todo.title}\n                                    style={{ textDecoration: todo.isDone ? 'line-through' : 'none' }}\n                                    onChange={(ev) => this.handleChange(ev, checklistIdx, todoIdx)}\n                                    name=\"title\"\n                                />\n                            </div>\n                        })\n                        }\n                        <button onClick={() => this.addTodo(checklistIdx)}>Add an item</button>\n                    </div>\n                })\n                }\n\n            </div>\n        </div>\n    }\n}","import { Component } from 'react';\nimport { connect } from 'react-redux'\n\nimport { Avatar, TextField, Input, Grid, Checkbox } from '@material-ui/core';\nimport AvatarGroup from '@material-ui/lab/AvatarGroup';\nimport CloseOutlinedIcon from '@material-ui/icons/CloseOutlined';\nimport AssignmentOutlinedIcon from '@material-ui/icons/AssignmentOutlined';\nimport PersonOutlineOutlinedIcon from '@material-ui/icons/PersonOutlineOutlined';\nimport LabelOutlinedIcon from '@material-ui/icons/LabelOutlined';\nimport AttachFileOutlinedIcon from '@material-ui/icons/AttachFileOutlined';\nimport DescriptionOutlinedIcon from '@material-ui/icons/DescriptionOutlined';\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\nimport CheckBoxOutlinedIcon from '@material-ui/icons/CheckBoxOutlined';\nimport VideoLabelIcon from '@material-ui/icons/VideoLabel';\nimport MenuOutlinedIcon from '@material-ui/icons/MenuOutlined';\n\nimport { saveBoard } from '../store/actions/boardActions.js';\nimport { taskService } from '../services/taskService.js';\nimport { utilService } from '../services/utilService.js';\nimport { LabelPreview } from '../cmps/LabelPreview.jsx';\nimport { labelService } from '../services/labelService.js';\nimport { MembersList } from '../cmps/MembersList';\nimport { LabelsList } from '../cmps/LabelsList';\nimport { Dates } from '../cmps/Dates';\nimport { Checklist } from '../cmps/Checklist';\nimport loading from '../assets/imgs/loading.gif'\n\n\nclass _TaskDetails extends Component {\n\n    state = {\n        task: null,\n        isMembersModalShow: false,\n        isLabelsModalShow: false,\n        isEditLabelsShow: false,\n        isEditDateShow: false,\n        isAttachmentShow: false,\n        isAttachment2Show: false,\n        isChooseCoverShow: false,\n        isChecklistShow: false,\n        isMenueShow: false,\n        comment: {\n            txt: '',\n        },\n        attachment: {\n            url: '',\n            timestamp: '',\n            name: ''\n        },\n        checklist: {\n            title: ''\n        }\n    }\n\n    async componentDidMount() {\n        const { taskId, groupId } = this.props.match.params;\n        const board = this.props.currBoard;\n        const task = await taskService.getTaskById(taskId, groupId, board);\n        this.setState({ ...this.state, task });\n    }\n\n    handleChange = ({ target }) => {\n        let { name, value } = target\n        const { task } = this.state\n        this.setState({ task: { ...task, [name]: value } }, () => {\n            const board = this.props.currBoard;\n            taskService.updateTask(board, this.props.match.params.groupId, this.state.task)\n            this.props.saveBoard(board)\n        })\n    }\n\n    goBack = () => {\n        this.props.history.push(`/board/${this.props.match.params.boardId}`)\n    }\n\n    toggleModal = (modal) => {\n        this.setState({ ...this.state, [modal]: !this.state[modal] })\n    }\n\n    toggleTaskMember = (task, member) => {\n        const board = this.props.currBoard;\n        taskService.toggleTaskMember(task, member)\n        this.setState({ ...this.state, task }, () => {\n            this.props.saveBoard(board)\n        })\n    }\n\n    checkIfMemberInTask = (name) => {\n        var patten = new RegExp(name);\n        return this.state.task.members?.some(member => {\n            return patten.test(member.fullname)\n        })\n    }\n\n    checkIfLabelInTask = (taskId, labelId) => {\n        if (labelId.charAt() === 'l') labelId = labelId.substring(1)\n        return this.state.task.labelIds?.some(taskLabelId => taskLabelId === labelId)\n    }\n\n    toggleEditLabel = (currLabel = null) => {\n        this.setState({ ...this.state, isEditLabelsShow: !this.state.isEditLabelsShow, currLabel })\n    }\n\n    getLableById = (labelId) => {\n        return this.props.currBoard.labels.find(label => label.id === 'l' + labelId)\n    }\n\n    getLabelProperty = (labelId) => {\n        const board = this.props.currBoard;\n        return board.labels?.find(label => label.id === 'l' + labelId)\n    }\n\n    onRemoveLabel = (taskId, labelId) => {\n        const board = this.props.currBoard\n        const { groupId } = this.props.match.params\n        taskService.onRemoveLabel(board, groupId, taskId, labelId)\n        this.props.saveBoard(board)\n    }\n\n    onAddLabel = (taskId, labelId) => {\n        const board = this.props.currBoard\n        const { groupId } = this.props.match.params\n        taskService.addLabel(board, groupId, taskId, labelId)\n        this.props.saveBoard(board)\n    }\n\n    updateLabel = (currLabel, labelUpdates) => {\n        const board = this.props.currBoard\n        labelService.updateLabel(board, currLabel, labelUpdates)\n        this.props.saveBoard(board)\n    }\n\n    addLabelToBoard = (newLabel) => {\n        const board = this.props.currBoard\n        labelService.addLabelToBoard(board, newLabel)\n        this.props.saveBoard(board)\n    }\n\n    convertNumToDate = (deuDate) => {\n        if (!deuDate) return\n        const deuDatePreview = taskService.getDatePreview(deuDate)\n        return deuDatePreview\n    }\n\n    setDate = (date) => {\n        const board = this.props.currBoard\n        const { task } = this.state\n        taskService.setTaskDate(task, date);\n        this.setState({ ...this.state, task })\n        this.props.saveBoard(board)\n    }\n\n    changeHandlerFile = ({ target }) => {\n        let { name, value } = target\n        const { task } = this.state;\n        if (!task.attachments) task.attachments = []\n        const board = this.props.currBoard\n        this.props.saveBoard(board)\n        this.setState({\n            attachment: {\n                ...this.state.attachment, [name]: value,\n                timestamp: taskService.getTimeStemp()\n            }\n        })\n    }\n\n    handleSubmissionFile = () => {\n        const { attachment } = this.state;\n        const { task } = this.state;\n        task.attachments.push(attachment)\n        if (!task.style?.imgUrl) task.style = { imgUrl: '' }\n        task.style.imgUrl = attachment.url\n        this.toggleModal('isAttachmentShow')\n        const board = this.props.currBoard;\n        taskService.updateTask(board, this.props.match.params.groupId, this.state.task)\n        this.props.saveBoard(board)\n    }\n\n    handleSubmissionFile2 = () => {\n        const { attachment } = this.state;\n        const { task } = this.state;\n        task.attachments.push(attachment)\n        if (!task.style?.imgUrl) task.style = { imgUrl: '' }\n        task.style.imgUrl = attachment.url\n        this.toggleModal('isAttachment2Show')\n        this.toggleModal('isMenueShow')\n        const board = this.props.currBoard;\n        taskService.updateTask(board, this.props.match.params.groupId, this.state.task)\n        this.props.saveBoard(board)\n    }\n\n    removeLink = (urlIdx = null) => {\n        const { task } = this.state;\n        if (task.style.imgUrl) task.style.imgUrl = ''\n        task.attachments.splice(urlIdx, 1)\n        const board = this.props.currBoard\n        taskService.updateTask(board, this.props.match.params.groupId, this.state.task)\n        this.props.saveBoard(board)\n    }\n\n    setCover = (style) => {\n        if (style && style.imgUrl) return 'img-hight'\n        if (style && style.bgColor) return 'bgc-hight'\n    }\n\n    changeCover = (bgColor) => {\n        const { task } = this.state;\n        task.style.bgColor = bgColor;\n        const board = this.props.currBoard\n        this.props.saveBoard(board)\n        this.toggleModal('isChooseCoverShow')\n    }\n\n    checkIfDateComplete = (date) => {\n        const { task } = this.state;\n        if (typeof task.dueDate === 'object') {\n            return task.dueDate.complete ?\n                <div className=\"label complete\">COMPLETE</div> :\n                <div className=\"label complete overdue\">OVERDUE</div>\n        } else {\n            task.dueDate = {\n                date,\n                complete: false\n            }\n            const board = this.props.currBoard\n            this.props.saveBoard(board)\n        }\n    }\n\n    toggleDateComplete = () => {\n        const { task } = this.state;\n        task.dueDate.complete = !task.dueDate.complete;\n        const board = this.props.currBoard\n        this.props.saveBoard(board)\n    }\n\n    updateChecklist = (checklists) => {\n        const { task } = this.state;\n        if (!task.checklists) task.checklists = [];\n        task.checklists = checklists;\n        const board = this.props.currBoard\n        this.props.saveBoard(board)\n    }\n\n    onChangeChecklist = ({ target }) => {\n        let { value, name } = target\n        this.setState({\n            checklist: {\n                ...this.state.checklist, [name]: value,\n            }\n        })\n    }\n\n    handleSubmissionChecklist = () => {\n        const { task } = this.state;\n        if (!task.checklists) task.checklists = [];\n        task.checklists.unshift({\n            id: utilService.makeId(),\n            title: this.state.checklist.title,\n            todos: []\n        })\n        const board = this.props.currBoard\n        this.props.saveBoard(board)\n        this.toggleModal('isChecklistShow')\n    }\n\n    render() {\n        const { task, checklist } = this.state\n        if (!task) return (\n            <div className=\"loading\">\n                <img className='loading-img' src={loading} />\n            </div>\n            )\n        const description = (task.description) || ''\n        const { byMember, comments, members, labelIds, style, attachments, checklists } = task;\n        const board = this.props.currBoard;\n        const { loggedInUser } = this.props\n        const colors = ['#f1d600', '#ff9f1a', '#eb5a46', '#c377e0', '#0279bf', '#00c2e0', '#60be50', '#50e898', '#fe78cb', '#344563', '#b3bac5']\n        var date = null\n        if (task.dueDate) date = task.dueDate.date || task.dueDate\n        return (\n            <section className=\"task-details flex\">\n                <div className=\"window\" onClick={this.goBack}></div>\n                <div className=\"card flex column\">\n                    <div className={'cover flex column ' + this.setCover(style)} style={{ backgroundColor: style?.bgColor && !style?.imgUrl ? style.bgColor : '' }}>\n                        <CloseOutlinedIcon className='btn task-details-close' onClick={this.goBack} />\n                        {style?.bgColor && <button className=\"btn-cover flex\" onClick={() => this.toggleModal('isChooseCoverShow')}>cover <VideoLabelIcon className='icon' /></button>}\n                        {style?.imgUrl && <img className='preview-img' src={`${style.imgUrl}`} alt=\"\" />}\n                    </div>\n                    <div className=\"menu flex\">\n                        <MenuOutlinedIcon className=\"menu-icon\" onClick={() => this.toggleModal('isMenueShow')} />\n                        <h3>ADD TO CARD</h3>\n                    </div>\n                    {this.state.isMenueShow && <div className=\"menu-sidebar flex column\">\n                        <h3 className=\"sidebar-title\">ADD TO CARD</h3>\n                        <button className=\"btn flex\" onClick={() => this.toggleModal('isMembersModalShow')}><PersonOutlineOutlinedIcon className=\"icon\" /> Members</button>\n                        <button className=\"btn flex\" onClick={() => this.toggleModal('isLabelsModalShow')}><LabelOutlinedIcon className=\"icon\" /> Labels</button>\n                        <button className=\"btn flex\" onClick={() => this.toggleModal('isChecklistShow')}><CheckBoxOutlinedIcon className=\"icon\" /> Checklist</button>\n                        <button className=\"btn flex\" onClick={() => this.toggleModal('isEditDateShow')}><AccessTimeIcon className=\"icon\" /> Dates</button>\n                        <button className=\"btn flex\" onClick={() => this.toggleModal('isAttachment2Show')}><AttachFileOutlinedIcon className=\"icon\" /> Attachment</button>\n                    </div>}\n                    {this.state.isAttachment2Show && <div className=\"attachment2 flex column\">\n                        <div className=\"flex container\">\n                            <label htmlFor=\"text\">Attach a link</label>\n                            <CloseOutlinedIcon className='btn task-details-close' onClick={() => this.toggleModal('isAttachment2Show')} />\n                        </div>\n                        <input type=\"text\" name=\"url\" value={this.state.attachment.url || ''} onChange={this.changeHandlerFile} placeholder=\"Paste any link here...\" />\n                        <label htmlFor=\"text\">Link name</label>\n                        <input type=\"text\" name=\"name\" value={this.state.attachment.name || ''} onChange={this.changeHandlerFile} />\n                        <button onClick={this.handleSubmissionFile2}>Attach</button>\n                    </div>}\n                    <div className=\"header\">\n                        <div className=\"title flex\">\n                            <AssignmentOutlinedIcon className=\"taskIcon\" color=\"disabled\" />\n                            <input className=\"title-input\" defaultValue={task.title}\n                                onChange={this.handleChange}\n                                name=\"title\"\n                            />\n                        </div>\n                    </div>\n                    <div className=\"main flex row\">\n                        <div className=\"details flex column\">\n                            <div className=\"details-labeld-members flex\">\n                                {members && <div className=\"members\">\n                                    <h3>MEMBERS</h3>\n                                    <AvatarGroup max={10}>\n                                        {members && members.map(member => {\n                                            return <Avatar className=\"avatar\"\n                                                key={member._id} src={member.imgUrl}>{utilService.getNameInitials(member.fullname)}</Avatar>\n                                        })}\n                                        <Avatar className=\"add-avatar\" onClick={() => this.toggleModal('isMembersModalShow')}>+</Avatar>\n                                    </AvatarGroup>\n                                </div>}\n\n                                {labelIds && <div className=\"labels flex column\">\n                                    <h3>LABELS</h3>\n                                    <div className=\"labels flex\">\n                                        {labelIds.map(labelId => {\n                                            const label = this.getLableById(labelId)\n                                            return <LabelPreview from={'details'} key={label.id} lable={label} />\n                                        })}\n                                        <div className=\"label add-label\" onClick={() => this.toggleModal('isLabelsModalShow')}>+</div>\n                                    </div>\n                                </div>}\n                            </div>\n                            {(task.dueDate) &&\n                                <div className='dew-date flex column'>\n                                    <h3>DUE DATE</h3>\n                                    <div className=\"flex\">\n                                        <Checkbox className=\"checkbox\"\n                                            onChange={this.toggleDateComplete}\n                                            checked={task.dueDate?.complete} />\n                                        <div className='dew-date-details flex' onClick={() => this.toggleModal('isEditDateShow')}>\n                                            <p>{this.convertNumToDate(date)} at {date.substring(11)}</p>\n                                            {this.checkIfDateComplete(date)}\n                                            <KeyboardArrowDownIcon />\n                                        </div>\n                                    </div>\n                                </div>}\n\n\n                            <div className=\"form flex column\">\n                                <div className=\"flex title\">\n                                    <DescriptionOutlinedIcon className=\"description-icon\" color=\"disabled\" />\n                                    <h3 className=\"title\">Description</h3>\n                                </div>\n                                <textarea className=\"textarea\"\n                                    name=\"description\"\n                                    id=\"outlined-multiline-static\"\n                                    placeholder=\"add a more detailed description...\"\n                                    value={description}\n                                    onChange={this.handleChange}>\n                                </textarea>\n                            </div>\n                            {(attachments?.length > 0) && <div >\n                                <div className='imgs flex'>\n                                    <AttachFileOutlinedIcon className=\"icon\" color=\"disabled\" />\n                                    <h3 className=\"title\">Attachment</h3>\n                                </div>\n                                {attachments.map((attachment, index) => {\n                                    return <div className=\"img-details flex\" key={index}>\n                                        <div className=\"img-container flex\">\n                                            <img className='preview-img' src={attachment.url} alt=\"\" />\n                                        </div>\n                                        <div className=\"container flex column\">\n                                            <p className=\"title\">{attachment.name || 'img.jpng'}</p>\n                                            <div className=\"flex\">\n                                                <p>Added at: {attachment.timestamp}</p>\n                                                <span>-</span>\n                                                <p className=\"btn\" onClick={() => this.removeLink(index)}>Delete</p>\n                                                <span>-</span>\n                                                <p className=\"btn\">Edit</p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                })}\n                            </div >}\n                            {checklists && <Checklist checklists={checklists} updateChecklist={this.updateChecklist}></Checklist>}\n                            <div className=\"comments flex column\">\n                                {comments && comments.map(comment => {\n                                    return <Grid item className=\"comment flex\" key={comment.id}>\n                                        {comment.byMember && <Avatar src={comment.byMember.imgUrl} className=\"avatar\">{!comment.byMember.imgUrl && utilService.getNameInitials(comment.byMember.fullname)}</Avatar>}\n                                        <Input id=\"input-with-icon-grid\" placeholder=\"Write a comment...\" value={comment.txt}\n                                            disableUnderline\n                                            fullWidth\n                                        /></Grid>\n                                })}\n                                <Grid item className=\"comment flex\">\n                                    {<Avatar src={loggedInUser?.imgUrl || ''} className=\"avatar\">{!loggedInUser?.imgUrl && utilService.getNameInitials(loggedInUser?.fullname || '')}</Avatar>}\n                                    <Input id=\"input-with-icon-grid \" placeholder=\"Write a comment...\" value={this.state.comment.txt}\n                                        disableUnderline\n                                        fullWidth\n                                        name=\"txt\"\n                                    />\n                                </Grid>\n                            </div>\n                        </div>\n                        <div className=\"sidebar flex column\">\n                            <h3 className=\"sidebar-title\">ADD TO CARD</h3>\n                            <button className=\"btn flex\" onClick={() => this.toggleModal('isMembersModalShow')}><PersonOutlineOutlinedIcon className=\"icon\" /> Members</button>\n                            <button className=\"btn flex\" onClick={() => this.toggleModal('isLabelsModalShow')}><LabelOutlinedIcon className=\"icon\" /> Labels</button>\n                            <button className=\"btn flex\" onClick={() => this.toggleModal('isChecklistShow')}><CheckBoxOutlinedIcon className=\"icon\" /> Checklist</button>\n                            <button className=\"btn flex\" onClick={() => this.toggleModal('isEditDateShow')}><AccessTimeIcon className=\"icon\" /> Dates</button>\n                            <button className=\"btn flex\" onClick={() => this.toggleModal('isAttachmentShow')}><AttachFileOutlinedIcon className=\"icon\" /> Attachment</button>\n                        </div>\n                    </div>\n                </div>\n                {this.state.isMembersModalShow && <MembersList board={board}\n                    task={task}\n                    toggleEditMembers={() => { this.toggleModal('isMembersModalShow') }}\n                    toggleTaskMember={this.toggleTaskMember}></MembersList>}\n\n                {this.state.isLabelsModalShow && <LabelsList\n                    task={task} board={board}\n                    toggleEditLabels={() => { this.toggleModal('isLabelsModalShow') }}\n                    checkLabel={this.checkIfLabelInTask}\n                    onRemoveLabel={this.onRemoveLabel}\n                    onAddLabel={this.onAddLabel}\n                    updateLabel={this.updateLabel}\n                    addLabelToBoard={this.addLabelToBoard}\n                ></LabelsList>}\n\n                {this.state.isEditDateShow && <Dates prevPage={'task-details'} toggleModal={this.toggleModal} task={task} setDate={this.setDate}></Dates>}\n\n                {this.state.isAttachmentShow && <div className=\"attachment flex column\">\n                    <div className=\"flex container\">\n                        <label htmlFor=\"text\">Attach a link</label>\n                        <CloseOutlinedIcon className='btn task-details-close' onClick={() => this.toggleModal('isAttachmentShow')} />\n                    </div>\n                    <input type=\"text\" name=\"url\" value={this.state.attachment.url || ''} onChange={this.changeHandlerFile} placeholder=\"Paste any link here...\" />\n                    <label htmlFor=\"text\">Link name</label>\n                    <input type=\"text\" name=\"name\" value={this.state.attachment.name || ''} onChange={this.changeHandlerFile} />\n                    <button onClick={this.handleSubmissionFile}>Attach</button>\n                </div>}\n\n                {this.state.isChooseCoverShow && <div className='colors-pick flex'>\n                    <label>Select a color</label>\n                    {colors.map((color, index) => {\n                        return <div key={index} style={{ backgroundColor: color }} className='color' onClick={() => this.changeCover(color)}></div>\n                    })\n                    }\n                </div>}\n                {this.state.isChecklistShow && <div className='checklist attachment'>\n                    <div>\n                        <h3>Add checklist</h3>\n                        <input type=\"text\" name=\"title\" value={checklist.title} onChange={this.onChangeChecklist} placeholder=\"Add checklist title here...\" />\n                        <button onClick={this.handleSubmissionChecklist}>Add</button>\n                    </div>\n                </div>\n                }\n\n\n            </section>\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        currBoard: state.boardModule.currBoard,\n        loggedInUser: state.userModule.loggedInUser,\n    }\n}\n\nconst mapDispatchToProps = {\n    saveBoard,\n}\n\n\nexport const TaskDetails = connect(mapStateToProps, mapDispatchToProps)(_TaskDetails)","import { Component, React } from 'react';\nimport { Avatar } from '@material-ui/core';\nimport DoneOutlinedIcon from '@material-ui/icons/DoneOutlined';\nimport { utilService } from '../services/utilService';\n\n\n\nexport class AddUsers extends Component {\n\n    state = {\n        isEditLabelOpen: false,\n        currLabel: null\n    }\n\n    checkIfMemberInBoard = (name) => {\n        var patten = new RegExp(name);\n        return this.props.board.members?.some(member => {\n            return patten.test(member.fullname)\n        })\n    }\n\n\n    render() {\n        const {  users, toggleAddMembers,toggleUser, board } = this.props\n        return (\n            <div className=\"edit-users-container\">\n                <div className='edit-users-header'>\n                    <h1 className='title' >Invite to board</h1>\n                    <button className='close-edit-users-btn' onClick={toggleAddMembers}>x</button>\n                </div>\n                {users && users.map(user => {\n                    return <div onClick={() => toggleUser(user)} className=\"users-preview\" key={user._id} >\n                        <Avatar className=\"avatar\" key={user._id} src={user.imgUrl}>{utilService.getNameInitials(user.fullname)}</Avatar>\n                        <h4 className='users-name'>{user.fullname}</h4>\n                        {this.checkIfMemberInBoard(user.fullname) && <DoneOutlinedIcon />}\n                    </div>\n                })}\n            </div>\n        )\n\n    }\n}\n\n","import React from 'react';\nimport { Avatar } from '@material-ui/core';\nimport { utilService } from '../services/utilService.js'\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\nimport { AddUsers } from './AddUsers';\nimport EqualizerIcon from '@material-ui/icons/Equalizer';\nimport MenuOutlinedIcon from '@material-ui/icons/MenuOutlined';\n\nexport class BoardHeader extends React.Component {\n    state = {\n        isChangeBoardTitleOpen: false,\n        isAddMembersOpen: false,\n        isMenuShow: false,\n        board: {\n            title: ''\n        }\n    }\n\n    componentWillMount() {\n        document.addEventListener('mousedown', this.handleClick, false)\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('mousedown', this.handleClick, false)\n    }\n\n    handleClick = (ev) => {\n        if (this.node.contains(ev.target)) {\n            return;\n        }\n\n        if (this.state.isChangeBoardTitleOpen) this.handleClickOutside()\n    }\n\n    handleClickOutside = () => {\n        this.onChangeBoardTitle(this.state.board.title)\n        this.setState({ isChangeBoardTitleOpen: false, isAddMembersOpen: false })\n    }\n\n    toggleChangeBoardTitle = () => {\n        this.props.onToggleCharts('close')\n        this.setState({ isChangeBoardTitleOpen: !this.state.isChangeBoardTitleOpen })\n    }\n    toggleAddMembers = () => {\n        this.props.onToggleCharts('close')\n        this.setState({ isAddMembersOpen: !this.state.isAddMembersOpen })\n    }\n\n    handleChange = (ev) => {\n        ev.preventDefault()\n        const value = ev.target.value;\n        const key = ev.target.name;\n        this.setState({ ...this.state, board: { [key]: value } });\n    }\n\n    onChangeBoardTitle = (newBoardTitle) => {\n        this.toggleChangeBoardTitle()\n        this.props.changeBoardTitle(newBoardTitle)\n    }\n\n    toggleModal = () => {\n        const { isMenuShow } = this.state\n        this.setState({ isMenuShow: !isMenuShow })\n    }\n\n    render() {\n        const { board, onToggleSideBar, users, toggleUser, onToggleCharts } = this.props\n        const { members } = board\n        const { isChangeBoardTitleOpen, isAddMembersOpen, isMenuShow } = this.state\n        const newBoardTitle = this.state.board.title\n        return (\n            <div className=\"board-header\" ref={node => { this.node = node }}>\n                <div className=\"header-options\">\n                    <MenuOutlinedIcon className=\"menu-icon\" onClick={this.toggleModal} />\n                    {isMenuShow &&\n                        <div className='board-menu-modal'>\n                            <div className=\"header-stats-mobile\" onClick={onToggleCharts}> <EqualizerIcon /> Statistics </div>\n                            <div className=\"header-avatars-mobile\">\n                                {members.map(member =>\n                                    <Avatar className=\"header-avatar-mobile\" key={member._id} src={member.imgUrl}>\n                                        {utilService.getNameInitials(member.fullname)}\n                                    </Avatar>)}\n                                <Avatar onClick={this.toggleAddMembers} className=\"header-avatar add-member-avatar\" >\n                                    <PersonAddIcon />\n                                </Avatar>\n                            </div>\n                            <button onClick={onToggleSideBar} className='open-side-bar-btn-mobile'>Show menu</button>\n                        </div>\n                    }\n                    {!isChangeBoardTitleOpen &&\n                        <div className='header-title' onClick={this.toggleChangeBoardTitle}>{board.title}</div>}\n                    {isChangeBoardTitleOpen &&\n                        <form onSubmit={() => this.onChangeBoardTitle(newBoardTitle)}>\n                            <input autoComplete='off' className='board-title-input' onChange={this.handleChange} type=\"text\" name='title' defaultValue={board.title} onClick={this.handleClick} />\n                        </form>}\n                    <div className=\"header-stats\" onClick={onToggleCharts}> <EqualizerIcon /> Statistics </div>\n                    <div className=\"header-avatars\">\n                        {members.map(member =>\n                            <Avatar className=\"header-avatar\" key={member._id} src={member.imgUrl}>\n                                {utilService.getNameInitials(member.fullname)}\n                            </Avatar>)}\n                        <Avatar onClick={this.toggleAddMembers} className=\"header-avatar add-member-avatar\" >\n                            <PersonAddIcon />\n                        </Avatar>\n                    </div>\n\n                    {isAddMembersOpen &&\n                        <AddUsers toggleUser={toggleUser} board={board} toggleAddMembers={this.toggleAddMembers} users={users} />}\n                    <button onClick={onToggleSideBar} className='open-side-bar-btn'>{<MoreHorizIcon />}Show menu</button>\n                </div>\n            </div >\n        )\n    }\n}","import React from 'react';\nimport { Doughnut, Bar } from 'react-chartjs-2'\nimport { connect } from 'react-redux'\nimport { setBoard } from '../store/actions/boardActions.js'\nimport loading from '../assets/imgs/loading.gif'\n\nclass _BoardCharts extends React.Component {\n\n    state = {\n        groupsTitles: [],\n        tasksAmount: [],\n        tasksPerMember: {}\n    }\n\n    componentDidMount() {\n        this.createData()\n    }\n\n    createData = () => {\n        const board = this.props.board\n\n        let tasksAmount = []\n        let roeyCount = 0\n        let noaCount = 0\n        let rotemCount = 0\n\n        const groupsTitles = board.groups.map((group) => {\n            const tasks = group.tasks\n            let tasksCount = 0\n            if (!tasks) return\n            tasks.forEach((task) => {\n                ++tasksCount\n                const members = task.members\n                if (!members) return\n                members.forEach((member) => {\n                    if (member.fullname === 'Roey Barda') ++roeyCount\n                    if (member.fullname === 'Noa Kaplan') ++noaCount\n                    if (member.fullname === 'Rotem Bar') ++rotemCount\n                })\n            })\n            tasksAmount.push(tasksCount)\n            return group.title\n        })\n        const tasksPerMember = { \"Roey\": roeyCount, \"Noa\": noaCount, \"Rotem\": rotemCount }\n        this.setState({ tasksPerMember })\n        this.setState({ groupsTitles, tasksAmount })\n    }\n\n    render() {\n        const { onToggleCharts } = this.props\n        const board = this.props.currBoard\n        const { groupsTitles, tasksAmount, tasksPerMember } = this.state\n        if (!board || !groupsTitles && !tasksAmount && !tasksPerMember) return (\n                <div className=\"loading\">\n                    <img className='loading-img' src={loading} />\n                </div>\n            )\n\n        const tasksPerGroupData = {\n            labels: Object.values(this.state.groupsTitles),\n            datasets: [\n                {\n                    label: 'Tasks Per Group',\n                    data: Object.values(this.state.tasksAmount),\n                    backgroundColor: [\n                        '#ff595e',\n                        '#ffca3a',\n                        '#8ac926',\n                        '#6a4c93',\n                        '#a3cef1',\n                        '#ea3546',\n                    ],\n                    borderWidth: 0,\n                }\n            ]\n        }\n\n        const tasksPerMemberData = {\n            labels: Object.keys(tasksPerMember),\n\n            datasets: [\n                {\n                    label: 'Tasks Per Member',\n                    data: Object.values(tasksPerMember),\n                    backgroundColor: [\n                        '#ff595e',\n                        '#ffca3a',\n                        '#8ac926',\n                        '#6a4c93',\n                        '#a3cef1',\n                        '#ea3546',\n                    ],\n                    borderWidth: 0,\n                    options: {\n                        scales: {\n                            y: {\n                                beginAtZero: true\n                            }\n                        }\n                    },\n                }\n            ]\n        }\n        return (\n            <section className=\"board-charts\">\n                <div className='header-title'>Statistics</div>\n                <div className='chart-container a'>\n                    <div className='title'>Tasks Per Group</div>\n                    <Doughnut className='chart' options={{ maintainAspectRatio: false }} data={tasksPerGroupData} />\n                </div>\n                <div className='chart-container b'>\n                    <div className='title'>Tasks Per Member</div>\n                    <Bar\n                        className='chart'\n                        data={tasksPerMemberData}\n                        options={{ maintainAspectRatio: false }} />\n                </div>\n                <button className=\"close-chart\" onClick={onToggleCharts}>Close X</button>\n            </section>\n        )\n    }\n\n}\n\n\nfunction mapStateToProps(state) {\n    return {\n        currBoard: state.boardModule.currBoard\n    }\n}\nconst mapDispatchToProps = {\n    setBoard\n}\n\nexport const BoardCharts = connect(mapStateToProps, mapDispatchToProps)(_BoardCharts)","import React from 'react';\nimport { Route } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { Group } from '../cmps/Group.jsx';\nimport { SideBar } from '../cmps/SideBar.jsx';\nimport { setBoard, loadBoards, saveBoard } from '../store/actions/boardActions.js'\nimport { loadUsers } from '../store/actions/userActions.js'\nimport { groupService } from '../services/groupService.js'\nimport { taskService } from '../services/taskService.js';\nimport { TaskDetails } from '../pages/TaskDetails.jsx';\nimport { labelService } from '../services/labelService.js';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport { boardService } from '../services/boardService.js';\nimport { BoardHeader } from '../cmps/BoardHeader'\nimport { socketService } from '../services/socketService.js';\nimport { BoardCharts } from '../cmps/BoardCharts'\nimport loading from '../assets/imgs/loading.gif'\n\nclass _BoardDetails extends React.Component {\n\n    state = {\n        isSideBarOpen: false,\n        isAddGroupOpen: false,\n        isDragDisabled: false,\n        isChartsOpen: false,\n        group: {\n            title: ''\n        }\n    }\n\n    componentDidMount() {\n        const { boardId } = this.props.match.params;\n        this.getBoardDetails()\n        this.props.loadUsers()\n        socketService.setup()\n        socketService.emit('join board', boardId)\n        socketService.on('updated board', (board) => {\n            this.props.setBoard(board._id)\n        })\n\n    }\n\n    handleChange = (ev) => {\n        ev.preventDefault()\n        const value = ev.target.value;\n        const key = ev.target.name;\n        this.setState({ group: { [key]: value } });\n    }\n\n    onToggleSideBar = () => {\n        this.setState({ isChartsOpen: false })\n        this.setState({ isSideBarOpen: !this.state.isSideBarOpen })\n\n    }\n\n    onToggleCharts = (order = null) => {\n        if (order === 'close') return this.setState({ isChartsOpen: false })\n        this.setState({ isChartsOpen: !this.state.isChartsOpen })\n    }\n\n    getBoardDetails = () => {\n        const { boardId } = this.props.match.params;\n        this.props.setBoard(boardId)\n    }\n\n    onDeleteGroup = (group) => {\n        const board = this.props.currBoard\n        groupService.deleteGroup(board, group.id)\n        boardService.addActivity(this.props.loggedInUser, board, group, 'deleted the list:')\n        this.props.saveBoard(board)\n    }\n    onCopyGroup = (group) => {\n        const board = this.props.currBoard\n        groupService.copyGroup(board, group)\n        boardService.addActivity(this.props.loggedInUser, board, group, 'copied the list:')\n        this.props.saveBoard(board)\n    }\n    changeGroupName = (newGroupTitle, group) => {\n        const board = this.props.currBoard\n        if (groupService.changeGroupName(newGroupTitle, group)) {\n            boardService.addActivity(this.props.loggedInUser, board, group, `changed the list name to: \"${newGroupTitle}\" from:`)\n            this.props.saveBoard(board)\n        }\n    }\n    changeBoardTitle = (newBoardTitle) => {\n        const board = this.props.currBoard\n        if (board.title === newBoardTitle || newBoardTitle === \"\") return\n        boardService.changeBoardTitle(board, newBoardTitle)\n        boardService.addActivity(this.props.loggedInUser, board, null, `changed the board name to: \"${newBoardTitle}\"`)\n        this.props.saveBoard(board)\n    }\n\n    onToggleAddGroup = () => {\n        this.setState({ isAddGroupOpen: !this.state.isAddGroupOpen })\n    }\n    onAddGroup = (newGroupTitle) => {\n        this.onToggleAddGroup()\n        const board = this.props.currBoard\n        const group = groupService.addGroup(board, newGroupTitle)\n        boardService.addActivity(this.props.loggedInUser, board, group, 'Added a new list named:')\n        this.props.saveBoard(board)\n    }\n\n    goBack = () => {\n        this.props.history.push('/board')\n    }\n\n    onAddTask = (group, newTitle) => {\n        const loggedInUser = this.props.loggedInUser\n        const board = this.props.currBoard\n        const task = taskService.addTask(board, group.id, newTitle, loggedInUser)\n        boardService.addActivity(this.props.loggedInUser, board, group, 'Added a new card named:', task)\n        this.props.saveBoard(board)\n    }\n    onUpdateTask = (group, updatedTask, task) => {\n        const board = this.props.currBoard\n        taskService.updateTask(board, group.id, updatedTask)\n        boardService.addActivity(this.props.loggedInUser, board, group, `changed the card name to: \"${updatedTask.title}\" from:`, task)\n        this.props.saveBoard(board)\n    }\n\n    onDeleteTask = (group, task) => {\n        const board = this.props.currBoard\n        taskService.deleteTask(board, group.id, task.id)\n        boardService.addActivity(this.props.loggedInUser, board, group, 'deleted the card:', task)\n        this.props.saveBoard(board)\n    }\n\n    onAddLabel = (groupId, taskId, labelId) => {\n        const board = this.props.currBoard\n        taskService.addLabel(board, groupId, taskId, labelId)\n        this.props.saveBoard(board)\n    }\n    checkLabel = (groupId, taskId, labelId) => {\n        const board = this.props.currBoard\n        return taskService.checkLabel(board, groupId, taskId, labelId)\n    }\n    onRemoveLabel = (groupId, taskId, labelId) => {\n        const board = this.props.currBoard\n        taskService.onRemoveLabel(board, groupId, taskId, labelId)\n        this.props.saveBoard(board)\n    }\n\n    updateLabel = (currLabel, labelUpdates) => {\n        const board = this.props.currBoard\n        labelService.updateLabel(board, currLabel, labelUpdates)\n        this.props.saveBoard(board)\n    }\n    addLabelToBoard = (newLabel) => {\n        const board = this.props.currBoard\n        labelService.addLabelToBoard(board, newLabel)\n        this.props.saveBoard(board)\n    }\n    getDatePreview = (dateNum) => {\n        return taskService.getDatePreview(dateNum)\n    }\n\n    toggleTaskMember = (task, member) => {\n        const board = this.props.currBoard;\n        taskService.toggleTaskMember(task, member)\n        this.props.saveBoard(board)\n    }\n\n    handleOnDragEnd = (result) => {\n        const board = this.props.currBoard;\n        if (!result.destination) return\n        if (result.type === 'list') {\n            const groups = board.groups\n            const [reorderedItem] = groups.splice(result.source.index, 1);\n            groups.splice(result.destination.index, 0, reorderedItem)\n        } else {\n            const groupSource = board.groups.find(group => group.id === result.source.droppableId)\n            const [reorderedItem] = groupSource.tasks.splice(result.source.index, 1);\n            const groupDes = board.groups.find(group => group.id === result.destination.droppableId)\n            groupDes.tasks.splice(result.destination.index, 0, reorderedItem)\n        }\n        this.props.saveBoard(board)\n    }\n\n    onChangeBg = (pick, imgUrl, bgColor) => {\n        const board = this.props.currBoard;\n        boardService.changeBg(pick, imgUrl, bgColor, board)\n        this.props.saveBoard(board)\n    }\n\n    toggleDroppable = () => {\n        this.setState({ ...this.state, isDragDisabled: !this.state.isDragDisabled });\n    }\n\n    setDate = (date, task) => {\n        const board = this.props.currBoard;\n        taskService.setTaskDate(task, date);\n        this.props.saveBoard(board)\n    }\n\n    toggleUser = (user) => {\n        const board = this.props.currBoard;\n        boardService.toggleUser(board, user)\n        this.props.saveBoard(board)\n    }\n\n\n    render() {\n        const { isAddGroupOpen, isSideBarOpen, isDragDisabled, isChartsOpen } = this.state\n        const { users } = this.props\n        const newGroupTitle = this.state.group.title\n        const board = this.props.currBoard\n        if (!board) return (\n        <div className=\"loading\">\n            <img className='loading-img' src={loading} />\n        </div>\n        )\n        return  <div className=\"group-container\">\n            <div className='task-details-container'>\n                <Route component={TaskDetails} path='/board/:boardId/:groupId/:taskId' />\n                <div className='board-window' style={(board.style.imgUrl) ? { backgroundImage: `url(${board.style.imgUrl})` } : { backgroundColor: board.style.bgColor }} ></div>\n            </div>\n\n            <div className=\"board-header-container\">\n                <BoardHeader toggleUser={this.toggleUser} users={users} changeBoardTitle={this.changeBoardTitle} board={board} onToggleSideBar={this.onToggleSideBar} onToggleCharts={this.onToggleCharts} />\n            </div>\n\n            {isSideBarOpen &&\n                < SideBar onChangeBg={this.onChangeBg} getDatePreview={this.getDatePreview} board={board} onToggleSideBar={this.onToggleSideBar} />\n            }\n\n            {isChartsOpen &&\n                <BoardCharts board={board} onToggleCharts={this.onToggleCharts}/>\n            }\n\n\n\n            <DragDropContext onDragEnd={this.handleOnDragEnd}>\n                <Droppable droppableId={board._id} direction=\"horizontal\" type='list' >\n                    {(provided) => (\n                        <div className=\"board-container\"{...provided.droppableProps} ref={provided.innerRef}>\n                            {(board.groups) && board.groups.map((group, index) => {\n                                return (\n                                    <Draggable isDragDisabled={isDragDisabled} key={group.id} draggableId={group.id} index={index}>\n                                        {(provided) => (\n                                            <div\n                                                {...provided.draggableProps}\n                                                {...provided.dragHandleProps}\n                                                ref={provided.innerRef}>\n                                                <Group setDate={this.setDate} toggleDroppable={this.toggleDroppable} isDragDisabled={isDragDisabled} changeGroupName={this.changeGroupName} toggleTaskMember={this.toggleTaskMember} updateLabel={this.updateLabel} addLabelToBoard={this.addLabelToBoard} checkLabel={this.checkLabel} onRemoveLabel={this.onRemoveLabel} onAddLabel={this.onAddLabel} onDeleteTask={this.onDeleteTask} onUpdateTask={this.onUpdateTask} onCopyGroup={this.onCopyGroup} onDeleteGroup={this.onDeleteGroup} board={board} group={group} onAddTask={this.onAddTask} />\n                                            </div>\n                                        )}\n                                    </Draggable>\n                                )\n                            })\n                            }\n                            {!isAddGroupOpen &&\n                                <button className='add-group-toggle-btn' onClick={this.onToggleAddGroup}>+ Add another list</button>}\n                            {isAddGroupOpen &&\n                                <form className='add-group-form' onSubmit={this.handleChange}>\n                                    <textarea name='title' placeholder='Enter list title...' className='group-title-input' id=\"\" cols=\"1\" rows=\"1\" onChange={this.handleChange}></textarea>\n                                    <div className='add-group-controls'>\n                                        <button className='add-group-add-btn' onClick={() => this.onAddGroup(newGroupTitle)}> Add list</button>\n                                        <button className='add-group-close-btn' onClick={this.onToggleAddGroup}> X </button>\n                                    </div>\n                                </form>\n                            }\n\n                            {provided.placeholder}\n                        </div>\n                    )}\n                </Droppable>\n            </DragDropContext>\n        </div>\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        loggedInUser: state.userModule.loggedInUser,\n        currBoard: state.boardModule.currBoard,\n        boards: state.boardModule.boards,\n        users: state.userModule.users,\n    }\n}\nconst mapDispatchToProps = {\n    loadUsers,\n    setBoard,\n    loadBoards,\n    saveBoard\n}\n\nexport const BoardDetails = connect(mapStateToProps, mapDispatchToProps)(_BoardDetails)","import { loadUsers, removeUser, login, logout, signup } from '../store/actions/userActions'\nimport { Component } from 'react'\nimport { connect } from 'react-redux'\n\nclass _LoginSignup extends Component {\n  state = {\n    isLogin: true,\n    msg: '',\n    loginCred: {\n      username: '',\n      password: ''\n    },\n    signupCred: {\n      username: '',\n      password: '',\n      fullname: ''\n    }\n  }\n  onToggleLoginSignup = () => {\n    this.setState({ isLogin: !this.state.isLogin })\n  }\n  componentDidMount() {\n    this.props.loadUsers()\n  }\n\n  loginHandleChange = ev => {\n    const { name, value } = ev.target\n    this.setState(prevState => ({\n      loginCred: {\n        ...prevState.loginCred,\n        [name]: value\n      }\n    }))\n  }\n\n  signupHandleChange = ev => {\n    const { name, value } = ev.target\n    this.setState(prevState => ({\n      signupCred: {\n        ...prevState.signupCred,\n        [name]: value\n      }\n    }))\n  }\n\n  doLogin = async ev => {\n    ev.preventDefault()\n    const { username, password } = this.state.loginCred\n    if (!username) {\n      return this.setState({ msg: 'Please enter user/password' })\n    }\n    const userCreds = { username, password }\n    try {\n      this.props.login(userCreds)\n      this.setState({ loginCred: { username: '', password: '' } })\n    } catch (err) {\n      this.setState({ msg: 'Login failed, try again.' })\n    }\n  }\n\n  doSignup = async ev => {\n    ev.preventDefault()\n    const { username, password, fullname } = this.state.signupCred\n    if (!username || !password || !fullname) {\n      return this.setState({ msg: 'All inputs are required' })\n    }\n    const signupCreds = { username, password, fullname }\n    this.props.signup(signupCreds)\n    this.setState({ signupCred: { username: '', password: '', fullname: '' } })\n  }\n\n  removeUser = userId => {\n    this.props.removeUser(userId)\n  }\n  render() {\n\n    let loginSection = (\n      <form className=\"frm\" onSubmit={this.doLogin}>\n        <h2 className='title'>Login</h2>\n        <div className='cradentials'>\n\n          <input\n            name=\"username\"\n            value={this.state.loginCred.username}\n            onChange={this.loginHandleChange}\n            autoComplete='off'\n            placeholder='Username'\n          >\n          </input>\n          <input\n            name=\"password\"\n            type=\"password\"\n            value={this.state.loginCred.password}\n            onChange={this.loginHandleChange}\n            placeholder=\"Password\"\n            autoComplete=\"off\"\n          />\n          <button className='login-signup-btn' onClick={this.doLogin}>Login</button>\n        </div>\n      </form>\n    )\n    let signupSection = (\n      <form className=\"frm\" onSubmit={this.doSignup}>\n        <h2 className='title'>Signup</h2>\n        <div className='cradentials'>\n\n          <input\n            type=\"text\"\n            name=\"fullname\"\n            value={this.state.signupCred.fullname}\n            onChange={this.signupHandleChange}\n            placeholder=\"Full name\"\n            autoComplete=\"off\"\n          />\n          <input\n            name=\"password\"\n            value={this.state.signupCred.password}\n            onChange={this.signupHandleChange}\n            placeholder=\"Password\"\n            autoComplete=\"off\"\n          />\n          <input\n            type=\"text\"\n            name=\"username\"\n            value={this.state.signupCred.username}\n            onChange={this.signupHandleChange}\n            placeholder=\"Username\"\n            autoComplete=\"off\"\n          />\n          <button className='login-signup-btn' >Signup</button>\n        </div>\n      </form>\n    )\n\n    const { isLogin } = this.state\n    const { loggedInUser } = this.props\n    return (\n      <div className=\"form-container\">\n        <div className=\"login-sigup\">\n          <p>{this.state.msg}</p>\n          {loggedInUser && (\n            <div className='welcome-user-msg'>\n              <h3>\n                Welcome {loggedInUser.fullname}\n              </h3>\n              <button className='login-signup-btn' onClick={this.props.logout}>Logout</button>\n            </div>\n          )}\n          {!loggedInUser && isLogin && loginSection}\n          {!loggedInUser && !isLogin && signupSection}\n          {!loggedInUser && < div onClick={this.onToggleLoginSignup} className='change-login-signup-btn'>{(isLogin) ? 'don\\'t have an account yet?' : 'I already have an account'}</div>}\n        </div>\n      </div >\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    users: state.userModule.users,\n    loggedInUser: state.userModule.loggedInUser,\n  }\n}\nconst mapDispatchToProps = {\n  login,\n  logout,\n  signup,\n  removeUser,\n  loadUsers\n}\n\nexport const LoginSignup = connect(mapStateToProps, mapDispatchToProps)(_LoginSignup)","import { Home } from './pages/Home.jsx'\nimport { BoardPage } from './pages/BoardPage.jsx'\nimport { BoardDetails } from './pages/BoardDetails.jsx'\nimport { LoginSignup } from './pages/LoginSignup.jsx'\n\nexport const routes = [{\n        path: '/',\n        component: Home,\n    },\n    {\n        path: '/board',\n        component: BoardPage,\n    },\n    {\n        path: '/board/:boardId?/:groupId?/:taskId?',\n        component: BoardDetails,\n    },\n    {\n        path: '/login',\n        component: LoginSignup,\n    },\n]","export default __webpack_public_path__ + \"static/media/logo1.2c1feed6.png\";","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { Avatar } from '@material-ui/core';\nimport { utilService } from '../services/utilService';\nimport HomeOutlinedIcon from '@material-ui/icons/HomeOutlined';\nimport Logo1 from '../assets/imgs/logo1.png'\nimport Logo2 from '../assets/imgs/logo2.png'\n\nclass _Header extends Component {\n    render() {\n        const { loggedInUser } = this.props\n        return (\n            <header className=\"main-header\">\n                <Link className='home-link-header' to=\"/\"><HomeOutlinedIcon /></Link>\n                <Link className='boards-link-header' to=\"/board\">Boards</Link>\n                <Link className='logo-header' to=\"/\"><img className=\"logo-header-img\" src={Logo1}/></Link>\n                {(loggedInUser) ? <Link className='login-link-header' to=\"/login\"> <Avatar className='logged-in-user-avatar' key={loggedInUser._id} src={loggedInUser.imgUrl}>{(!loggedInUser.imgUrl) && utilService.getNameInitials(loggedInUser.fullname)}</Avatar> {loggedInUser.fullname} </Link>\n                    : <Link className='login-link-header' to=\"/login\">Login</Link>}\n            </header>\n        )\n    }\n}\nconst mapStateToProps = state => {\n    return {\n        loggedInUser: state.userModule.loggedInUser\n    }\n}\nconst mapDispatchToProps = {}\n\n\nexport const Header = connect(mapStateToProps, mapDispatchToProps)(_Header)","export default __webpack_public_path__ + \"static/media/logo2.4f609611.png\";","import React from 'react'\nimport { Switch, Route } from 'react-router-dom'\nimport { routes } from './routes.js'\n\nimport { Header } from './cmps/Header'\n\n\nexport function App() {\n  return (\n    <div className=\"app\">\n      <Header />\n      <main>\n        <Switch>\n          {routes.map(route => <Route key={route.path} exact component={route.component} path={route.path} />)}\n        </Switch>\n      </main>\n    </div>\n  )\n}\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","const initialState = {\n  currBoard: null,\n  boards: [],\n}\n\nexport function boardReducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case 'SET_BOARDS':\n      return { ...state, boards: action.boards }\n    case 'ADD_BOARD':\n      return { ...state, boards: [...state.boards, action.board] }\n    case 'UPDATE_BOARD':\n      return {\n        ...state,\n        boards: state.boards.map(board =>\n          board._id === action.board._id ? action.board : board\n        )\n      }\n    case 'REMOVE_BOARD':\n      return { ...state, boards: state.boards.filter(board => board._id !== action.boardId) }\n    case 'SET_CURR_BOARD':\n      return { ...state, currBoard: action.currBoard }\n    default:\n      return state\n  }\n}\n","let localLoggedinUser = null\nif (sessionStorage.loggedinUser) localLoggedinUser = JSON.parse(sessionStorage.loggedinUser)\n\nconst initialState = {\n  loggedInUser: localLoggedinUser,\n  users: []\n}\n\nexport function userReducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case 'SET_USERS':\n      return { ...state, users: action.users }\n    case 'SET_USER':\n      return { ...state, loggedInUser: action.user }\n    case 'REMOVE_USER':\n      return {\n        ...state,\n        users: state.users.filter(user => user._id !== action.userId)\n      }\n    default:\n      return state\n  }\n}\n","import { combineReducers } from 'redux'\nimport { boardReducer } from './boardReducer'\nimport { userReducer } from './userReducer'\n\nexport const rootReducer = combineReducers({\n  boardModule: boardReducer,\n  userModule: userReducer\n})\n","import { createStore, applyMiddleware, compose } from 'redux'\n\nimport thunk from 'redux-thunk'\nimport { rootReducer } from './reducers'\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\n\nexport const store = createStore(\n  rootReducer,\n  composeEnhancers(applyMiddleware(thunk))\n)\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport { App } from './App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport './assets/styles/main.scss'\nimport { store } from './store/store'\nimport reportWebVitals from './reportWebVitals';\nimport {HashRouter as Router } from 'react-router-dom'\n\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router>\n      <App />\n    </Router>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.unregister();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}